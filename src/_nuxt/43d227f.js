(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{2178:function(e,t,n){"use strict";n.r(t);n(523),n(52),n(134),n(183);var a=n(184),i=n.n(a),l=n(2),o=n(103),r=Object(l.c)({props:{show:Boolean,editingEnvironmentIndex:{type:[Number,String],default:null}},setup:function(e){return{workingEnv:Object(l.a)((function(){return null===e.editingEnvironmentIndex?null:"Global"===e.editingEnvironmentIndex?{name:"Global",variables:Object(o.l)()}:Object(o.k)(e.editingEnvironmentIndex)}))}},data:function(){return{name:null,vars:[],clearIcon:"trash-2"}},watch:{show:function(){var e,t,n,a;this.name=null!==(t=null===(e=this.workingEnv)||void 0===e?void 0:e.name)&&void 0!==t?t:null,this.vars=i()(null!==(a=null===(n=this.workingEnv)||void 0===n?void 0:n.variables)&&void 0!==a?a:[])}},methods:{clearContent:function(){var e=this;this.vars=[],this.clearIcon="check",this.$toast.success("".concat(this.$t("state.cleared"))),setTimeout((function(){return e.clearIcon="trash-2"}),1e3)},addEnvironmentVariable:function(){this.vars.push({key:"",value:""})},removeEnvironmentVariable:function(e){this.vars.splice(e,1)},saveEnvironment:function(){if(this.name){var e={name:this.name,variables:this.vars};"Global"===this.editingEnvironmentIndex?Object(o.r)(e.variables):Object(o.s)(this.editingEnvironmentIndex,e),this.hideModal()}else this.$toast.error("".concat(this.$t("environment.invalid_name")))},hideModal:function(){this.name=null,this.$emit("hide-modal")}}}),s=n(23),c=Object(s.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.show?n("SmartModal",{attrs:{title:""+e.$t("environment.edit")},on:{close:e.hideModal},scopedSlots:e._u([{key:"body",fn:function(){return[n("div",{staticClass:"flex flex-col px-2"},[n("div",{staticClass:"relative flex"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"},{name:"focus",rawName:"v-focus"}],staticClass:"input floating-input",attrs:{id:"selectLabelEnvEdit",placeholder:" ",type:"text",autocomplete:"off",disabled:"Global"===e.editingEnvironmentIndex},domProps:{value:e.name},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.saveEnvironment.apply(null,arguments)},input:function(t){t.target.composing||(e.name=t.target.value)}}}),e._v(" "),n("label",{attrs:{for:"selectLabelEnvEdit"}},[e._v("\n          "+e._s(e.$t("action.label"))+"\n        ")])]),e._v(" "),n("div",{staticClass:"flex items-center justify-between flex-1"},[n("label",{staticClass:"p-4",attrs:{for:"variableList"}},[e._v("\n          "+e._s(e.$t("environment.variable_list"))+"\n        ")]),e._v(" "),n("div",{staticClass:"flex"},[n("ButtonSecondary",{directives:[{name:"tippy",rawName:"v-tippy",value:{theme:"tooltip"},expression:"{ theme: 'tooltip' }"}],attrs:{title:e.$t("action.clear_all"),svg:e.clearIcon},nativeOn:{click:function(t){return e.clearContent()}}}),e._v(" "),n("ButtonSecondary",{directives:[{name:"tippy",rawName:"v-tippy",value:{theme:"tooltip"},expression:"{ theme: 'tooltip' }"}],attrs:{svg:"plus",title:e.$t("add.new")},nativeOn:{click:function(t){return e.addEnvironmentVariable.apply(null,arguments)}}})],1)]),e._v(" "),n("div",{staticClass:"border divide-y rounded divide-dividerLight border-divider"},[e._l(e.vars,(function(t,a){return n("div",{key:"variable-"+a,staticClass:"flex divide-x divide-dividerLight"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.key,expression:"variable.key"}],staticClass:"flex flex-1 px-4 py-2 bg-transparent",attrs:{placeholder:""+e.$t("count.variable",{count:a+1}),name:"param"+a},domProps:{value:t.key},on:{input:function(n){n.target.composing||e.$set(t,"key",n.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"variable.value"}],staticClass:"flex flex-1 px-4 py-2 bg-transparent",attrs:{placeholder:""+e.$t("count.value",{count:a+1}),name:"value"+a},domProps:{value:t.value},on:{input:function(n){n.target.composing||e.$set(t,"value",n.target.value)}}}),e._v(" "),n("div",{staticClass:"flex"},[n("ButtonSecondary",{directives:[{name:"tippy",rawName:"v-tippy",value:{theme:"tooltip"},expression:"{ theme: 'tooltip' }"}],attrs:{id:"variable",title:e.$t("action.remove"),svg:"trash",color:"red"},nativeOn:{click:function(t){return e.removeEnvironmentVariable(a)}}})],1)])})),e._v(" "),0===e.vars.length?n("div",{staticClass:"flex flex-col items-center justify-center p-4 text-secondaryLight"},[n("img",{staticClass:"inline-flex flex-col object-contain object-center w-16 h-16 my-4",attrs:{src:"/images/states/"+e.$colorMode.value+"/blockchain.svg",loading:"lazy",alt:""+e.$t("empty.environments")}}),e._v(" "),n("span",{staticClass:"pb-4 text-center"},[e._v("\n            "+e._s(e.$t("empty.environments"))+"\n          ")]),e._v(" "),n("ButtonSecondary",{staticClass:"mb-4",attrs:{label:""+e.$t("add.new"),filled:""},nativeOn:{click:function(t){return e.addEnvironmentVariable.apply(null,arguments)}}})],1):e._e()],2)])]},proxy:!0},{key:"footer",fn:function(){return[n("span",[n("ButtonPrimary",{attrs:{label:""+e.$t("action.save")},nativeOn:{click:function(t){return e.saveEnvironment.apply(null,arguments)}}}),e._v(" "),n("ButtonSecondary",{attrs:{label:""+e.$t("action.cancel")},nativeOn:{click:function(t){return e.hideModal.apply(null,arguments)}}})],1)]},proxy:!0}],null,!1,2182021168)}):e._e()}),[],!1,null,null,null);t.default=c.exports;installComponents(c,{ButtonSecondary:n(104).default,ButtonPrimary:n(177).default,SmartModal:n(130).default})}}]);