(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{1983:function(t,e,r){"use strict";r.r(e);var n=r(83),o=(r(4),r(381),r(59),r(122),r(525),r(10),r(8),r(2)),i=["second","minute","hour","day","week","month","year"],s=["秒","分钟","小时","天","周","个月","年"],a={},c=function(t,e){a[t]=e},l=function(t){return a[t]||a.en_US},u=[60,60,24,7,365/7/12,12];function p(t){return t instanceof Date?t:!isNaN(t)||/^\d+$/.test(t)?new Date(parseInt(t)):(t=(t||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(t))}function f(t,e){for(var r=t<0?1:0,n=t=Math.abs(t),o=0;t>=u[o]&&o<u.length;o++)t/=u[o];return(t=Math.floor(t))>(0===(o*=2)?9:1)&&(o+=1),e(t,o,n)[r].replace("%s",t.toString())}function d(t,e){return(+(e?p(e):new Date)-+p(t))/1e3}var y=function(t,e,r){return f(d(t,r&&r.relativeDate),l(e))};c("en_US",(function(t,e){if(0===e)return["just now","right now"];var r=i[Math.floor(e/2)];return t>1&&(r+="s"),[t+" "+r+" ago","in "+t+" "+r]})),c("zh_CN",(function(t,e){if(0===e)return["刚刚","片刻后"];var r=s[~~(e/2)];return[t+" "+r+"前",t+" "+r+"后"]}));var v=r(82),m=r(29),h=r(92),g=r(110),b={};b.props={page:{key:"page",required:!0,type:String}},b.setup=function(t,e){var r=t,i=Object(o.m)(""),s=Object(o.m)(!1),a=Object(o.m)(!1),c=Object(m.j)(),l=Object(m.d)(),u=Object(m.g)("rest"===r.page?h.j:h.g,[]),p=Object(o.a)((function(){var t=new RegExp(i.value,"gi");return u.value.filter((function e(r){return null!==r&&"object"===Object(n.a)(r)?Object.values(r).some(e):Array.isArray(r)?r.some(e):("string"==typeof r||"number"==typeof r)&&t.test(r)}))})),f=Object(o.a)((function(){return t=p.value,e="updatedOn",t.reduce((function(t,r){return(t[y(r[e])]=t[y(r[e])]||[]).push(r),t}),{});var t,e}));return{filterText:i,showMore:s,confirmRemove:a,t:l,history:u,filteredHistory:p,filteredHistoryGroups:f,clearHistory:function(){"rest"===r.page?Object(h.d)():Object(h.c)(),c.success("".concat(l("state.history_deleted")))},useHistory:function(t){"rest"===r.page&&Object(g.w)(Object(v.safelyExtractRESTRequest)(t.request,Object(g.b)()))},deleteBattleHistoryEntry:function(t){"rest"===r.page?t.forEach((function(t){Object(h.f)(t)})):t.forEach((function(t){Object(h.e)(t)})),c.success("".concat(l("state.deleted")))},deleteHistory:function(t){"rest"===r.page?Object(h.f)(t):Object(h.e)(t),c.success("".concat(l("state.deleted")))},toggleStar:function(t){"rest"===r.page?Object(h.o)(t):Object(h.n)(t)}}};var x=b,_=r(23),j=Object(_.a)(x,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"sticky top-0 z-10 flex border-b bg-primary border-dividerLight"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.filterText,expression:"filterText"}],staticClass:"flex w-full p-4 py-2 bg-transparent",attrs:{type:"search",autocomplete:"off",placeholder:""+t.t("action.search")},domProps:{value:t.filterText},on:{input:function(e){e.target.composing||(t.filterText=e.target.value)}}}),t._v(" "),r("div",{staticClass:"flex"},[r("ButtonSecondary",{directives:[{name:"tippy",rawName:"v-tippy",value:{theme:"tooltip"},expression:"{ theme: 'tooltip' }"}],attrs:{to:"https://docs.hoppscotch.io/features/history",blank:"",title:t.t("app.wiki"),svg:"help-circle"}}),t._v(" "),r("ButtonSecondary",{directives:[{name:"tippy",rawName:"v-tippy",value:{theme:"tooltip"},expression:"{ theme: 'tooltip' }"}],attrs:{"data-testid":"clear_history",disabled:0===t.history.length,svg:"trash-2",title:t.t("action.clear_all")},nativeOn:{click:function(e){t.confirmRemove=!0}}})],1)]),t._v(" "),r("div",{staticClass:"flex flex-col"},t._l(t.filteredHistoryGroups,(function(e,n){return r("details",{key:"filteredHistoryGroup-"+n,staticClass:"flex flex-col",attrs:{open:""}},[r("summary",{staticClass:"flex items-center justify-between flex-1 min-w-0 transition cursor-pointer focus:outline-none text-secondaryLight text-tiny group"},[r("span",{staticClass:"px-4 py-2 truncate transition group-hover:text-secondary capitalize-first"},[t._v("\n          "+t._s(n)+"\n        ")]),t._v(" "),r("ButtonSecondary",{directives:[{name:"tippy",rawName:"v-tippy",value:{theme:"tooltip"},expression:"{ theme: 'tooltip' }"}],staticClass:"hidden group-hover:inline-flex",attrs:{svg:"trash",color:"red",title:t.$t("action.remove")},nativeOn:{click:function(r){return t.deleteBattleHistoryEntry(e)}}})],1),t._v(" "),t._l(e,(function(e,n){return r("div",{key:"entry-"+n},[r("rest"==t.page?"HistoryRestCard":"HistoryGraphqlCard",{tag:"component",attrs:{id:n,entry:e,"show-more":t.showMore},on:{"toggle-star":function(r){return t.toggleStar(e)},"delete-entry":function(r){return t.deleteHistory(e)},"use-entry":function(r){return t.useHistory(e)}}})],1)}))],2)})),0),t._v(" "),0===t.filteredHistory.length&&0!==t.history.length?r("div",{staticClass:"flex flex-col items-center justify-center p-4 text-secondaryLight"},[r("i",{staticClass:"pb-2 opacity-75 material-icons"},[t._v("manage_search")]),t._v(" "),r("span",{staticClass:"my-2 text-center"},[t._v("\n      "+t._s(t.t("state.nothing_found"))+' "'+t._s(t.filterText)+'"\n    ')])]):t._e(),t._v(" "),0===t.history.length?r("div",{staticClass:"flex flex-col items-center justify-center p-4 text-secondaryLight"},[r("img",{staticClass:"inline-flex flex-col object-contain object-center w-16 h-16 my-4",attrs:{src:"/images/states/"+t.$colorMode.value+"/history.svg",loading:"lazy",alt:""+t.t("empty.history")}}),t._v(" "),r("span",{staticClass:"mb-4 text-center"},[t._v("\n      "+t._s(t.t("empty.history"))+"\n    ")])]):t._e(),t._v(" "),r("SmartConfirmModal",{attrs:{show:t.confirmRemove,title:""+t.t("confirm.remove_history")},on:{"hide-modal":function(e){t.confirmRemove=!1},resolve:t.clearHistory}})],1)}),[],!1,null,null,null);e.default=j.exports;installComponents(j,{ButtonSecondary:r(104).default,SmartConfirmModal:r(379).default})}}]);