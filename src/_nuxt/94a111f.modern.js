(window.webpackJsonp=window.webpackJsonp||[]).push([[39,40],{1022:function(e,t,n){"use strict";n.r(t);var i=n(2),o=n(66),r=n(20),l=n(90),c=Object(i.c)({props:{request:{type:Object,default:()=>{}},collectionIndex:{type:Number,default:null},folderIndex:{type:Number,default:null},folderName:{type:String,default:null},requestIndex:[Number,String],doc:Boolean,saveRequest:Boolean,collectionsType:{type:Object,default:()=>{}},picked:{type:Object,default:()=>{}},collectionID:{type:String,default:null}},setup:()=>({active:Object(r.g)(l.p,null),tippyActions:Object(i.m)(null),options:Object(i.m)(null),edit:Object(i.m)(null),deleteAction:Object(i.m)(null),duplicate:Object(i.m)(null)}),data:()=>({dragging:!1,requestMethodLabels:{get:"text-green-500",post:"text-yellow-500",put:"text-blue-500",delete:"text-red-500",default:"text-gray-500"},confirmRemove:!1}),computed:{isSelected(){return this.picked&&"teams-request"===this.picked.pickedType&&this.picked.requestID===this.requestIndex}},methods:{selectRequest(){this.active&&"team-collection"===this.active.originLocation&&this.active.requestID===this.requestIndex?Object(l.x)(null):this.$props.saveRequest?this.$emit("select",{picked:{pickedType:"teams-request",requestID:this.requestIndex}}):Object(l.w)(Object(o.safelyExtractRESTRequest)(Object(o.translateToNewRequest)(this.request),Object(l.b)()),{originLocation:"team-collection",requestID:this.requestIndex})},dragStart(e){var{dataTransfer:t}=e;this.dragging=!this.dragging,t.setData("requestIndex",this.requestIndex)},removeRequest(){this.$emit("remove-request",{collectionIndex:this.$props.collectionIndex,folderName:this.$props.folderName,requestIndex:this.$props.requestIndex})},getRequestLabelColor(e){return this.requestMethodLabels[e.toLowerCase()]||this.requestMethodLabels.default}}}),a=n(16),s=Object(a.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex flex-col",class:[{"bg-primaryLight":e.dragging}]},[n("div",{staticClass:"flex items-stretch group",attrs:{draggable:"true"},on:{dragstart:e.dragStart,dragover:function(e){e.stopPropagation()},dragleave:function(t){e.dragging=!1},dragend:function(t){e.dragging=!1},contextmenu:function(t){t.preventDefault(),e.options.tippy().show()}}},[n("span",{staticClass:"cursor-pointer flex px-2 w-16 items-center justify-center truncate",class:e.getRequestLabelColor(e.request.method),on:{click:function(t){e.doc||e.selectRequest()}}},[e.isSelected?n("SmartIcon",{staticClass:"svg-icons",class:{"text-accent":e.isSelected},attrs:{name:"check-circle"}}):n("span",{staticClass:"truncate"},[e._v("\n        "+e._s(e.request.method)+"\n      ")])],1),e._v(" "),n("span",{staticClass:"cursor-pointer flex flex-1 min-w-0 py-2 pr-2 transition items-center group-hover:text-secondaryDark",on:{click:function(t){e.doc||e.selectRequest()}}},[n("span",{staticClass:"truncate",class:{"text-accent":e.isSelected}},[e._v("\n        "+e._s(e.request.name)+"\n      ")]),e._v(" "),e.active&&"team-collection"===e.active.originLocation&&e.active.requestID===e.requestIndex?n("span",{directives:[{name:"tippy",rawName:"v-tippy",value:{theme:"tooltip"},expression:"{ theme: 'tooltip' }"}],staticClass:"relative h-1.5 w-1.5 flex flex-shrink-0 mx-3",attrs:{title:""+e.$t("collection.request_in_use")}},[n("span",{staticClass:"absolute animate-ping inline-flex flex-shrink-0 h-full w-full rounded-full bg-green-500 opacity-75"}),e._v(" "),n("span",{staticClass:"relative inline-flex flex-shrink-0 rounded-full h-1.5 w-1.5 bg-green-500"})]):e._e()]),e._v(" "),n("div",{staticClass:"flex"},[e.saveRequest||e.doc?e._e():n("ButtonSecondary",{directives:[{name:"tippy",rawName:"v-tippy",value:{theme:"tooltip"},expression:"{ theme: 'tooltip' }"}],staticClass:"hidden group-hover:inline-flex",attrs:{svg:"rotate-ccw",title:e.$t("action.restore")},nativeOn:{click:function(t){e.doc||e.selectRequest()}}}),e._v(" "),n("span",["VIEWER"!==e.collectionsType.selectedTeam.myRole?n("tippy",{ref:"options",attrs:{interactive:"",trigger:"click",theme:"popover",arrow:"","on-shown":function(){return e.tippyActions.focus()}},scopedSlots:e._u([{key:"trigger",fn:function(){return[n("ButtonSecondary",{directives:[{name:"tippy",rawName:"v-tippy",value:{theme:"tooltip"},expression:"{ theme: 'tooltip' }"}],attrs:{title:e.$t("action.more"),svg:"more-vertical"}})]},proxy:!0}],null,!1,236607011)},[e._v(" "),n("div",{ref:"tippyActions",staticClass:"flex flex-col focus:outline-none",attrs:{tabindex:"0"},on:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"e",void 0,t.key,void 0)?null:e.edit.$el.click()},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"d",void 0,t.key,void 0)?null:e.duplicate.$el.click()},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"])?null:e.deleteAction.$el.click()},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"escape",void 0,t.key,void 0))return null;e.options.tippy().hide()}]}},[n("SmartItem",{ref:"edit",attrs:{svg:"edit",label:e.$t("action.edit"),shortcut:["E"]},nativeOn:{click:function(t){return function(){e.$emit("edit-request",{collectionIndex:e.collectionIndex,folderIndex:e.folderIndex,folderName:e.folderName,request:e.request,requestIndex:e.requestIndex}),e.options.tippy().hide()}.apply(null,arguments)}}}),e._v(" "),n("SmartItem",{ref:"duplicate",attrs:{svg:"copy",label:e.$t("action.duplicate"),shortcut:["D"]},nativeOn:{click:function(t){return function(){e.$emit("duplicate-request",{request:e.request,requestIndex:e.requestIndex,collectionID:e.collectionID}),e.options.tippy().hide()}.apply(null,arguments)}}}),e._v(" "),n("SmartItem",{ref:"deleteAction",attrs:{svg:"trash-2",label:e.$t("action.delete"),shortcut:["⌫"]},nativeOn:{click:function(t){return function(){e.confirmRemove=!0,e.options.tippy().hide()}.apply(null,arguments)}}})],1)]):e._e()],1)],1)]),e._v(" "),n("SmartConfirmModal",{attrs:{show:e.confirmRemove,title:e.$t("confirm.remove_request")},on:{"hide-modal":function(t){e.confirmRemove=!1},resolve:e.removeRequest}})],1)}),[],!1,null,null,null);t.default=s.exports;installComponents(s,{SmartIcon:n(98).default,ButtonSecondary:n(83).default,SmartItem:n(126).default,SmartConfirmModal:n(324).default})},1025:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(71),o=n(43),r=(e,t)=>Object(i.a)(o.j,{requestID:e,collectionID:t})},1027:function(e,t,n){"use strict";n.r(t);var i=n(12),o=n(2),r=n(14),l=n(1025),c=n(877),a=Object(o.c)({name:"Folder",props:{folder:{type:Object,default:()=>{}},folderIndex:{type:Number,default:null},collectionIndex:{type:Number,default:null},folderPath:{type:String,default:null},doc:Boolean,saveRequest:Boolean,isFiltered:Boolean,collectionsType:{type:Object,default:()=>{}},picked:{type:Object,default:()=>{}}},setup:()=>({tippyActions:Object(o.m)(null),options:Object(o.m)(null),folderAction:Object(o.m)(null),edit:Object(o.m)(null),deleteAction:Object(o.m)(null)}),data:()=>({showChildren:!1,dragging:!1,confirmRemove:!1,prevCursor:"",cursor:""}),computed:{isSelected(){return this.picked&&"teams-folder"===this.picked.pickedType&&this.picked.folderID===this.folder.id},getCollectionIcon(){return this.isSelected?"check-circle":(this.showChildren||this.isFiltered)&&(this.showChildren||this.isFiltered)?"folder-open":"folder"}},methods:{toggleShowChildren(){this.$props.saveRequest&&this.$emit("select",{picked:{pickedType:"teams-folder",folderID:this.folder.id}}),this.$emit("expand-collection",this.$props.folder.id),this.showChildren=!this.showChildren},removeFolder(){"VIEWER"!==this.collectionsType.selectedTeam.myRole&&(this.picked&&"teams-folder"===this.picked.pickedType&&this.picked.folderID===this.folder.id&&this.$emit("select",{picked:null}),c.b(this.$apollo,this.folder.id).then((()=>{this.$toast.success("".concat(this.$t("state.deleted"))),this.$emit("update-team-collections")})).catch((e=>{this.$toast.error("".concat(this.$t("error.something_went_wrong"))),console.error(e)})),this.$emit("update-team-collections"))},expandCollection(e){this.$emit("expand-collection",e)},dropEvent(e){var t=this;return Object(i.a)((function*(){var{dataTransfer:n}=e;t.dragging=!t.dragging;var i=n.getData("requestIndex"),o=yield Object(l.a)(i,t.folder.id)();r.isLeft(o)&&t.$toast.error("".concat(t.$t("error.something_went_wrong")))}))()},removeRequest(e){var{collectionIndex:t,folderName:n,requestIndex:i}=e;this.$emit("remove-request",{collectionIndex:t,folderName:n,requestIndex:i})}}}),s=n(16),u=Object(s.a)(a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex flex-col",class:[{"bg-primaryLight":e.dragging}]},[n("div",{staticClass:"flex items-stretch group",on:{dragover:[function(e){e.preventDefault()},function(t){e.dragging=!0}],drop:[function(t){return t.preventDefault(),e.dropEvent.apply(null,arguments)},function(t){e.dragging=!1}],dragleave:function(t){e.dragging=!1},dragend:function(t){e.dragging=!1},contextmenu:function(t){t.preventDefault(),e.options.tippy().show()}}},[n("span",{staticClass:"cursor-pointer flex px-4 items-center justify-center",on:{click:function(t){return e.toggleShowChildren()}}},[n("SmartIcon",{staticClass:"svg-icons",class:{"text-accent":e.isSelected},attrs:{name:e.getCollectionIcon}})],1),e._v(" "),n("span",{staticClass:"cursor-pointer flex flex-1 min-w-0 py-2 pr-2 transition group-hover:text-secondaryDark",on:{click:function(t){return e.toggleShowChildren()}}},[n("span",{staticClass:"truncate",class:{"text-accent":e.isSelected}},[e._v("\n        "+e._s(e.folder.name?e.folder.name:e.folder.title)+"\n      ")])]),e._v(" "),n("div",{staticClass:"flex"},["VIEWER"!==e.collectionsType.selectedTeam.myRole?n("ButtonSecondary",{directives:[{name:"tippy",rawName:"v-tippy",value:{theme:"tooltip"},expression:"{ theme: 'tooltip' }"}],staticClass:"hidden group-hover:inline-flex",attrs:{svg:"folder-plus",title:e.$t("folder.new")},nativeOn:{click:function(t){return e.$emit("add-folder",{folder:e.folder,path:e.folderPath})}}}):e._e(),e._v(" "),n("span",["VIEWER"!==e.collectionsType.selectedTeam.myRole?n("tippy",{ref:"options",attrs:{interactive:"",trigger:"click",theme:"popover",arrow:"","on-shown":function(){return e.tippyActions.focus()}},scopedSlots:e._u([{key:"trigger",fn:function(){return[n("ButtonSecondary",{directives:[{name:"tippy",rawName:"v-tippy",value:{theme:"tooltip"},expression:"{ theme: 'tooltip' }"}],attrs:{title:e.$t("action.more"),svg:"more-vertical"}})]},proxy:!0}],null,!1,236607011)},[e._v(" "),n("div",{ref:"tippyActions",staticClass:"flex flex-col focus:outline-none",attrs:{tabindex:"0"},on:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"n",void 0,t.key,void 0)?null:e.folderAction.$el.click()},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"e",void 0,t.key,void 0)?null:e.edit.$el.click()},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"])?null:e.deleteAction.$el.click()},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"escape",void 0,t.key,void 0))return null;e.options.tippy().hide()}]}},[n("SmartItem",{ref:"folderAction",attrs:{svg:"folder-plus",label:e.$t("folder.new"),shortcut:["N"]},nativeOn:{click:function(t){return function(){e.$emit("add-folder",{folder:e.folder,path:e.folderPath}),e.options.tippy().hide()}.apply(null,arguments)}}}),e._v(" "),n("SmartItem",{ref:"edit",attrs:{svg:"edit",label:e.$t("action.edit"),shortcut:["E"]},nativeOn:{click:function(t){return function(){e.$emit("edit-folder",{folder:e.folder,folderIndex:e.folderIndex,collectionIndex:e.collectionIndex,folderPath:""}),e.options.tippy().hide()}.apply(null,arguments)}}}),e._v(" "),n("SmartItem",{ref:"deleteAction",attrs:{svg:"trash-2",label:e.$t("action.delete"),shortcut:["⌫"]},nativeOn:{click:function(t){return function(){e.confirmRemove=!0,e.options.tippy().hide()}.apply(null,arguments)}}})],1)]):e._e()],1)],1)]),e._v(" "),e.showChildren||e.isFiltered?n("div",{staticClass:"flex"},[n("div",{staticClass:"bg-dividerLight cursor-nsResize flex ml-5.5 transform transition w-1 hover:bg-dividerDark hover:scale-x-125",on:{click:function(t){return e.toggleShowChildren()}}}),e._v(" "),n("div",{staticClass:"flex flex-col flex-1 truncate"},[e._l(e.folder.children,(function(t,i){return n("CollectionsTeamsFolder",{key:"subFolder-"+i,attrs:{folder:t,"folder-index":i,"collection-index":e.collectionIndex,doc:e.doc,"save-request":e.saveRequest,"collections-type":e.collectionsType,"folder-path":e.folderPath+"/"+i,picked:e.picked},on:{"add-folder":function(t){return e.$emit("add-folder",t)},"edit-folder":function(t){return e.$emit("edit-folder",t)},"edit-request":function(t){return e.$emit("edit-request",t)},"update-team-collections":function(t){return e.$emit("update-team-collections")},select:function(t){return e.$emit("select",t)},"expand-collection":e.expandCollection,"remove-request":e.removeRequest,"duplicate-request":function(t){return e.$emit("duplicate-request",t)}}})})),e._v(" "),e._l(e.folder.requests,(function(t,i){return n("CollectionsTeamsRequest",{key:"request-"+i,attrs:{request:t.request,"collection-index":e.collectionIndex,"folder-index":e.folderIndex,"folder-name":e.folder.name,"request-index":t.id,doc:e.doc,"save-request":e.saveRequest,"collections-type":e.collectionsType,picked:e.picked,"collection-i-d":e.folder.id},on:{"edit-request":function(t){return e.$emit("edit-request",t)},select:function(t){return e.$emit("select",t)},"remove-request":e.removeRequest,"duplicate-request":function(t){return e.$emit("duplicate-request",t)}}})})),e._v(" "),null!=e.folder.children&&0!==e.folder.children.length||null!=e.folder.requests&&0!==e.folder.requests.length?e._e():n("div",{staticClass:"flex flex-col text-secondaryLight p-4 items-center justify-center"},[n("img",{staticClass:"flex-col object-contain object-center h-16 mb-4 w-16 inline-flex",attrs:{src:"/images/states/"+e.$colorMode.value+"/pack.svg",loading:"lazy",alt:""+e.$t("empty.folder")}}),e._v(" "),n("span",{staticClass:"text-center"},[e._v("\n          "+e._s(e.$t("empty.folder"))+"\n        ")])])],2)]):e._e(),e._v(" "),n("SmartConfirmModal",{attrs:{show:e.confirmRemove,title:e.$t("confirm.remove_folder")},on:{"hide-modal":function(t){e.confirmRemove=!1},resolve:e.removeFolder}})],1)}),[],!1,null,null,null);t.default=u.exports;installComponents(u,{SmartIcon:n(98).default,ButtonSecondary:n(83).default,SmartItem:n(126).default,CollectionsTeamsFolder:n(1027).default,CollectionsTeamsRequest:n(1022).default,SmartConfirmModal:n(324).default})},877:function(e,t,n){"use strict";n.d(t,"j",(function(){return g})),n.d(t,"e",(function(){return q})),n.d(t,"f",(function(){return b})),n.d(t,"i",(function(){return k})),n.d(t,"l",(function(){return D})),n.d(t,"b",(function(){return j})),n.d(t,"c",(function(){return S})),n.d(t,"a",(function(){return R})),n.d(t,"k",(function(){return N})),n.d(t,"h",(function(){return A})),n.d(t,"g",(function(){return B})),n.d(t,"d",(function(){return J}));var i,o,r,l,c,a,s,u,d,p,f,m,h=n(204),v=n(12),y=(n(34),n(37),n(8),n(150));n(172);function g(e,t){return I.apply(this,arguments)}function I(){return(I=Object(v.a)((function*(e,t){for(var n=[],o="";;){var r=yield e.query({query:Object(y.a)(i||(i=Object(h.a)(["\n        query rootCollectionsOfTeam($teamID: ID!, $cursor: ID!) {\n          rootCollectionsOfTeam(teamID: $teamID, cursor: $cursor) {\n            id\n            title\n          }\n        }\n      "]))),variables:{teamID:t,cursor:o},fetchPolicy:"no-cache"});if(0===r.data.rootCollectionsOfTeam.length)break;r.data.rootCollectionsOfTeam.forEach((e=>{n.push(e)})),o=n[n.length-1].id}return n}))).apply(this,arguments)}function q(e,t){return x.apply(this,arguments)}function x(){return(x=Object(v.a)((function*(e,t){var n=[];return(yield e.query({query:Object(y.a)(o||(o=Object(h.a)(["\n      query getCollectionChildren($collectionID: ID!) {\n        collection(collectionID: $collectionID) {\n          children {\n            id\n            title\n          }\n        }\n      }\n    "]))),variables:{collectionID:t},fetchPolicy:"no-cache"})).data.collection.children.forEach((e=>{n.push(e)})),n}))).apply(this,arguments)}function b(e,t){return $.apply(this,arguments)}function $(){return($=Object(v.a)((function*(e,t){for(var n=[],i="";;){var o=yield e.query({query:Object(y.a)(r||(r=Object(h.a)(["\n        query getCollectionRequests($collectionID: ID!, $cursor: ID) {\n          requestsInCollection(collectionID: $collectionID, cursor: $cursor) {\n            id\n            title\n            request\n          }\n        }\n      "]))),variables:{collectionID:t,cursor:i},fetchPolicy:"no-cache"});if(o.data.requestsInCollection.forEach((e=>{n.push(e)})),o.data.requestsInCollection.length<10)break;i=n[n.length-1].id}return n}))).apply(this,arguments)}function k(e,t,n){return O.apply(this,arguments)}function O(){return(O=Object(v.a)((function*(e,t,n){for(var i;void 0===(i=yield e.mutate({mutation:Object(y.a)(l||(l=Object(h.a)(["\n        mutation ($newTitle: String!, $collectionID: ID!) {\n          renameCollection(newTitle: $newTitle, collectionID: $collectionID) {\n            id\n          }\n        }\n      "]))),variables:{newTitle:t,collectionID:n}})););return i}))).apply(this,arguments)}function D(e,t,n,i){return C.apply(this,arguments)}function C(){return(C=Object(v.a)((function*(e,t,n,i){for(var o;void 0===(o=yield e.mutate({mutation:Object(y.a)(c||(c=Object(h.a)(["\n        mutation ($data: UpdateTeamRequestInput!, $requestID: ID!) {\n          updateRequest(data: $data, requestID: $requestID) {\n            id\n          }\n        }\n      "]))),variables:{data:{request:JSON.stringify(t),title:n},requestID:i}})););return o}))).apply(this,arguments)}function j(e,t){return _.apply(this,arguments)}function _(){return(_=Object(v.a)((function*(e,t){for(var n;void 0===(n=yield e.mutate({mutation:Object(y.a)(a||(a=Object(h.a)(["\n        mutation ($collectionID: ID!) {\n          deleteCollection(collectionID: $collectionID)\n        }\n      "]))),variables:{collectionID:t}})););return n}))).apply(this,arguments)}function S(e,t){return w.apply(this,arguments)}function w(){return(w=Object(v.a)((function*(e,t){for(var n;void 0===(n=yield e.mutate({mutation:Object(y.a)(s||(s=Object(h.a)(["\n        mutation ($requestID: ID!) {\n          deleteRequest(requestID: $requestID)\n        }\n      "]))),variables:{requestID:t}})););return n}))).apply(this,arguments)}function R(e,t,n){return T.apply(this,arguments)}function T(){return(T=Object(v.a)((function*(e,t,n){for(var i;void 0===(i=yield e.mutate({mutation:Object(y.a)(u||(u=Object(h.a)(["\n        mutation ($title: String!, $teamID: ID!) {\n          createRootCollection(title: $title, teamID: $teamID) {\n            id\n          }\n        }\n      "]))),variables:{title:t,teamID:n}})););return i}))).apply(this,arguments)}function N(e,t,n,i,o){return E.apply(this,arguments)}function E(){return(E=Object(v.a)((function*(e,t,n,i,o){var r;return null===(r=(yield e.mutate({mutation:Object(y.a)(d||(d=Object(h.a)(["\n      mutation ($data: CreateTeamRequestInput!, $collectionID: ID!) {\n        createRequestInCollection(data: $data, collectionID: $collectionID) {\n          id\n          collection {\n            id\n            team {\n              id\n              name\n            }\n          }\n        }\n      }\n    "]))),variables:{collectionID:o,data:{teamID:i,title:n,request:t}}})).data)||void 0===r?void 0:r.createRequestInCollection}))).apply(this,arguments)}function A(e,t,n,i){return L.apply(this,arguments)}function L(){return(L=Object(v.a)((function*(e,t,n,i){yield e.mutate({mutation:Object(y.a)(p||(p=Object(h.a)(["\n      mutation updateRequest($data: UpdateTeamRequestInput!, $requestID: ID!) {\n        updateRequest(data: $data, requestID: $requestID) {\n          id\n          title\n        }\n      }\n    "]))),variables:{requestID:i,data:{request:t,title:n}}})}))).apply(this,arguments)}function B(e,t,n){return F.apply(this,arguments)}function F(){return(F=Object(v.a)((function*(e,t,n){return null!=(yield e.mutate({mutation:Object(y.a)(f||(f=Object(h.a)(["\n      mutation importFromJSON($jsonString: String!, $teamID: ID!) {\n        importCollectionsFromJSON(jsonString: $jsonString, teamID: $teamID)\n      }\n    "]))),variables:{jsonString:JSON.stringify(t),teamID:n}})).data}))).apply(this,arguments)}function J(e,t){return P.apply(this,arguments)}function P(){return(P=Object(v.a)((function*(e,t){return(yield e.query({query:Object(y.a)(m||(m=Object(h.a)(["\n      query exportAsJSON($teamID: ID!) {\n        exportCollectionsToJSON(teamID: $teamID)\n      }\n    "]))),variables:{teamID:t}})).data.exportCollectionsToJSON}))).apply(this,arguments)}}}]);