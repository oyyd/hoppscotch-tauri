(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{1886:function(e,t,r){"use strict";r.d(t,"b",(function(){return v})),r.d(t,"a",(function(){return b}));var n=r(30),c=r(12),o=(r(63),r(58),r(111),r(203),r(34),r(1800),r(1897),r(1801),r(1802),r(1803),r(99),r(134),r(1804),r(175),r(65));function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var s="".concat(window.location.origin,"/"),l=function(){var e=Object(c.a)((function*(e,t){var r={method:"post",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:Object.keys(t).map((e=>"".concat(e,"=").concat(t[e]))).join("&")};try{var n=yield fetch(e,r);return yield n.json()}catch(e){console.error(e)}}));return function(t,r){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)((function*(e){try{var t=yield fetch(e,{method:"GET",headers:{"Content-type":"application/json"}});return yield t.json()}catch(e){console.error(e)}}));return function(t){return e.apply(this,arguments)}}(),u=()=>{var e=new Uint32Array(28);return window.crypto.getRandomValues(e),Array.from(e,(e=>"0".concat(e.toString(16)).substr(-2))).join("")},p=function(){var e=Object(c.a)((function*(e){var t,r,n,c=yield(t=e,r=(new TextEncoder).encode(t),window.crypto.subtle.digest("SHA-256",r));return n=c,btoa(String.fromCharCode.apply(null,new Uint8Array(n))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(c.a)((function*(e){var{oidcDiscoveryUrl:t,grantType:r,authUrl:n,accessTokenUrl:c,clientId:a,scope:i}=e;if(""!==t){var{authorization_endpoint:l,token_endpoint:v}=yield d(t);n=l,c=v}Object(o.c)("tokenEndpoint",c),Object(o.c)("client_id",a);var b=u();Object(o.c)("pkce_state",b);var f=u();Object(o.c)("pkce_codeVerifier",f);var y=yield p(f);window.location="".concat(n+"?response_type=".concat(r),"&client_id=").concat(encodeURIComponent(a),"&state=").concat(encodeURIComponent(b),"&scope=").concat(encodeURIComponent(i),"&redirect_uri=").concat(encodeURIComponent(s),"&code_challenge=").concat(encodeURIComponent(y),"&code_challenge_method=S256")}));return function(t){return e.apply(this,arguments)}}(),b=()=>{var e,t="",r=""===(e=window.location.search.substring(1))?{}:e.split("&").map((e=>e.split("="))).reduce(((e,t)=>i(i({},e),{},{[t[0]]:t[1]})),{});if(r.error&&alert("Error returned from authorization server: ".concat(r.error)),r.code){if(Object(o.a)("pkce_state")!==r.state)alert("Invalid state"),Promise.reject(t);else try{t=l(Object(o.a)("tokenEndpoint"),{grant_type:"authorization_code",code:r.code,client_id:Object(o.a)("client_id"),redirect_uri:s,code_verifier:Object(o.a)("pkce_codeVerifier")})}catch(e){return console.error(e),Promise.reject(t)}return Object(o.b)("pkce_state"),Object(o.b)("pkce_codeVerifier"),Object(o.b)("tokenEndpoint"),Object(o.b)("client_id"),t}return Promise.reject(t)}},1897:function(e,t,r){r(2070)("Uint32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},2084:function(e,t,r){"use strict";r.r(t);var n=r(12),c=r(20),o=r(90),a=r(1886),i={setup(){var e=Object(c.d)(),t=Object(c.j)(),r=Object(c.h)(o.h,{authType:"none",authActive:!0},o.r),i=Object(c.a)(r,"oidcDiscoveryURL"),s=Object(c.a)(r,"authURL"),l=Object(c.a)(r,"accessTokenURL"),d=Object(c.a)(r,"clientID"),u=Object(c.a)(r,"scope"),p=function(){var r=Object(n.a)((function*(){if(""!==i.value||""!==s.value&&""!==l.value)try{var r={grantType:"code",oidcDiscoveryUrl:i.value,authUrl:s.value,accessTokenUrl:l.value,clientId:d.value,scope:u.value};yield Object(a.b)(r)}catch(e){t.error("".concat(e))}else t.error("".concat(e("complete_config_urls")))}));return function(){return r.apply(this,arguments)}}();return{oidcDiscoveryURL:i,authURL:s,accessTokenURL:l,clientID:d,scope:u,handleAccessTokenRequest:p,t:e}}},s=i,l=r(16),d=Object(l.a)(s,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"flex flex-col"},[r("div",{staticClass:"flex border-b border-dividerLight"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.oidcDiscoveryURL,expression:"oidcDiscoveryURL"}],staticClass:"flex flex-1 px-4 py-2 bg-transparent",attrs:{id:"oidcDiscoveryURL",placeholder:"OpenID Connect Discovery URL",name:"oidcDiscoveryURL"},domProps:{value:e.oidcDiscoveryURL},on:{input:function(t){t.target.composing||(e.oidcDiscoveryURL=t.target.value)}}})]),e._v(" "),r("div",{staticClass:"flex border-b border-dividerLight"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.authURL,expression:"authURL"}],staticClass:"flex flex-1 px-4 py-2 bg-transparent",attrs:{id:"authURL",placeholder:"Authentication URL",name:"authURL"},domProps:{value:e.authURL},on:{input:function(t){t.target.composing||(e.authURL=t.target.value)}}})]),e._v(" "),r("div",{staticClass:"flex border-b border-dividerLight"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.accessTokenURL,expression:"accessTokenURL"}],staticClass:"flex flex-1 px-4 py-2 bg-transparent",attrs:{id:"accessTokenURL",placeholder:"Access Token URL",name:"accessTokenURL"},domProps:{value:e.accessTokenURL},on:{input:function(t){t.target.composing||(e.accessTokenURL=t.target.value)}}})]),e._v(" "),r("div",{staticClass:"flex border-b border-dividerLight"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.clientID,expression:"clientID"}],staticClass:"flex flex-1 px-4 py-2 bg-transparent",attrs:{id:"clientID",placeholder:"Client ID",name:"clientID"},domProps:{value:e.clientID},on:{input:function(t){t.target.composing||(e.clientID=t.target.value)}}})]),e._v(" "),r("div",{staticClass:"flex border-b border-dividerLight"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.scope,expression:"scope"}],staticClass:"flex flex-1 px-4 py-2 bg-transparent",attrs:{id:"scope",placeholder:"Scope",name:"scope"},domProps:{value:e.scope},on:{input:function(t){t.target.composing||(e.scope=t.target.value)}}})]),e._v(" "),r("div",{staticClass:"p-2"},[r("ButtonSecondary",{attrs:{filled:"",label:""+e.t("authorization.generate_token")},nativeOn:{click:function(t){return e.handleAccessTokenRequest()}}})],1)])}),[],!1,null,null,null);t.default=d.exports;installComponents(d,{ButtonSecondary:r(83).default})}}]);