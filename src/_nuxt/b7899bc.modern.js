(window.webpackJsonp=window.webpackJsonp||[]).push([[141,83,85,91,93,100,101,147],{1006:function(e,t,n){"use strict";n.r(t);var i=n(2),s=Object(i.c)({name:"SmartTab",props:{label:{type:String,default:null},info:{type:String,default:null},indicator:{type:Boolean,default:!1},icon:{type:String,default:null},id:{type:String,default:null,required:!0},selected:{type:Boolean,default:!1}},data:()=>({active:!1}),mounted(){this.active=this.selected}}),o=n(16),r=Object(o.a)(s,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{directives:[{name:"show",rawName:"v-show",value:e.active,expression:"active"}]},[e._t("default")],2)}),[],!1,null,null,null);t.default=r.exports},1007:function(e,t,n){"use strict";n.r(t);var i=n(2),s=Object(i.c)({props:{styles:{type:String,default:""},vertical:{type:Boolean,default:!1}},data:()=>({tabs:[]}),updated(){var e=this.$children.filter((e=>"SmartTab"===e.$options.name));e.length!==this.tabs.length&&(this.tabs=e)},mounted(){this.tabs=this.$children.filter((e=>"SmartTab"===e.$options.name))},methods:{selectTab(e){var{id:t}=e;this.tabs.forEach((e=>{e.active=e.id===t})),this.$emit("tab-changed",t)}}}),o=(n(1014),n(16)),r=Object(o.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex flex-1 h-full flex-nowrap",class:{"flex-col h-auto":!e.vertical}},[n("div",{staticClass:"relative tabs hide-scrollbar",class:[{"border-r border-dividerLight":e.vertical},e.styles]},[n("div",{staticClass:"flex flex-1"},[n("div",{staticClass:"flex justify-between flex-1",class:{"flex-col":e.vertical}},[n("div",{staticClass:"flex",class:{"flex-col space-y-2 p-2":e.vertical}},e._l(e.tabs,(function(t,i){return n("button",{key:"tab-"+i,staticClass:"tab",class:[{active:t.active},{vertical:e.vertical}],attrs:{"aria-label":t.label},on:{keyup:function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"enter",13,n.key,"Enter")?null:e.selectTab(t)},click:function(n){return e.selectTab(t)}}},[t.icon?n("SmartIcon",{staticClass:"svg-icons",attrs:{name:t.icon}}):e._e(),e._v(" "),e.vertical&&t.label?n("tippy",{attrs:{placement:"left",theme:"tooltip",content:t.label}}):t.label?n("span",[e._v(e._s(t.label))]):e._e(),e._v(" "),t.info&&"null"!==t.info?n("span",{staticClass:"tab-info"},[e._v("\n              "+e._s(t.info)+"\n            ")]):e._e(),e._v(" "),t.indicator?n("span",{staticClass:"w-1 h-1 ml-2 rounded-full bg-accentLight"}):e._e()],1)})),0),e._v(" "),n("div",{staticClass:"flex items-center justify-center"},[e._t("actions")],2)])])]),e._v(" "),n("div",{staticClass:"w-full h-full contents",class:{"!flex flex-col flex-1 overflow-y-auto hide-scrollbar":e.vertical}},[e._t("default")],2)])}),[],!1,null,"330295f6",null);t.default=r.exports;installComponents(r,{SmartIcon:n(98).default})},1014:function(e,t,n){"use strict";n(898)},1015:function(e,t,n){var i=n(109)(!1);i.push([e.i,'.tabs[data-v-330295f6] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: -webkit-flex;\n  display: flex;\n  white-space: nowrap;\n  overflow: auto;\n  -ms-flex-negative: 0;\n  -webkit-flex-shrink: 0;\n  flex-shrink: 0;\n}\n.tabs .tab[data-v-330295f6] {\n  position: relative;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: -webkit-flex;\n  display: flex;\n  -ms-flex-negative: 0;\n  -webkit-flex-shrink: 0;\n  flex-shrink: 0;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  -webkit-justify-content: center;\n  justify-content: center;\n  padding-top: 0.5rem;\n  padding-bottom: 0.5rem;\n  padding-left: 1rem;\n  padding-right: 1rem;\n  color: var(--secondary-color);\n  font-weight: 600;\n  cursor: pointer;\n}\n.tabs .tab[data-v-330295f6]:hover {\n  color: var(--secondary-dark-color);\n}\n.tabs .tab[data-v-330295f6]:focus {\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n}\n.tabs .tab[data-v-330295f6]:focus-visible {\n  color: var(--secondary-dark-color);\n}\n.tabs .tab .tab-info[data-v-330295f6] {\n  display: -webkit-inline-box;\n  display: -ms-inline-flexbox;\n  display: -webkit-inline-flex;\n  display: inline-flex;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  -webkit-justify-content: center;\n  justify-content: center;\n  width: 1.25rem;\n  height: 1rem;\n  margin-left: 0.5rem;\n  font-size: 8px;\n  line-height: 1;\n  border-color: var(--divider-color);\n  border-width: 1px;\n  border-radius: 0.25rem;\n  color: var(--secondary-light-color);\n}\n.tabs .tab[data-v-330295f6]::after {\n  position: absolute;\n  left: 1rem;\n  right: 1rem;\n  bottom: 0px;\n  background-color: transparent;\n  z-index: 2;\n  height: 0.125rem;\n  content: "";\n}\n.tabs .tab[data-v-330295f6]:focus::after {\n  background-color: var(--divider-color);\n}\n.tabs .tab.active[data-v-330295f6] {\n  color: var(--secondary-dark-color);\n}\n.tabs .tab.active .tab-info[data-v-330295f6] {\n  color: var(--secondary-color);\n  border-color: var(--divider-dark-color);\n}\n.tabs .tab.active[data-v-330295f6]::after {\n  background-color: var(--accent-color);\n}\n.tabs .tab.vertical[data-v-330295f6] {\n  padding: 0.5rem;\n  border-radius: 0.25rem;\n}\n.tabs .tab.vertical[data-v-330295f6]:focus::after {\n  display: none;\n}\n.tabs .tab.vertical.active[data-v-330295f6] {\n  color: var(--accent-color);\n}\n.tabs .tab.vertical.active .tab-info[data-v-330295f6] {\n  color: var(--secondary-color);\n  border-color: var(--divider-dark-color);\n}\n.tabs .tab.vertical.active[data-v-330295f6]::after {\n  display: none;\n}',""]),e.exports=i},1020:function(e,t,n){"use strict";n.r(t);n(58),n(175),n(329),n(203),n(134),n(326),n(99);var i=n(2),s=n(1738),o=n.n(s),r=n(1029),a=n.n(r),c=n(1739),l=n.n(c),u=n(263),d=n(82),h=n(20),p={"&":"&amp;","<":"&lt;",">":"&gt;"},f=Object(i.c)({props:{value:{type:String,default:""},placeholder:{type:String,default:""},styles:{type:String,default:""}},setup:()=>({aggregateEnvs:Object(h.g)(d.b)}),data:()=>({internalValue:"",htmlOutput:"",debouncedHandler:null,highlight:[{text:/(<<\w+>>)/g,style:"cursor-help transition rounded px-1 focus:outline-none mx-0.5"}],highlightEnabled:!0,highlightStyle:"",caseSensitive:!0,fireOn:"input",fireOnEnabled:!0}),watch:{aggregateEnvs(){this.processHighlights()},highlightStyle(){this.processHighlights()},highlight(){this.processHighlights()},value(){this.internalValue!==this.value&&(this.internalValue=this.value,this.processHighlights())},highlightEnabled(){this.processHighlights()},caseSensitive(){this.processHighlights()},htmlOutput(){var e=this.saveSelection(this.$refs.editor);this.$refs.editor.innerHTML=this.htmlOutput,this.restoreSelection(this.$refs.editor,e)}},mounted(){this.fireOnEnabled&&this.$refs.editor.addEventListener(this.fireOn,this.handleChange),this.internalValue=this.value,this.processHighlights()},methods:{handleCompositionEnd(){this.handleChange()},handlePaste(e){this.handleChange(),this.$emit("paste",{event:e,previousValue:this.internalValue})},handleChange(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&"inputType"in e&&"insertCompositionText"===e.inputType||(this.debouncedHandler=a()((function(){this.$refs.editor&&this.internalValue!==this.$refs.editor.textContent&&(this.internalValue=this.$refs.editor.textContent,this.processHighlights())}),5),this.debouncedHandler())},processHighlights(){var e=this;if(!this.highlightEnabled)return this.htmlOutput=this.internalValue,void(this.intervalTree!==this.value&&(this.$emit("input",this.internalValue),this.$emit("change",this.internalValue)));var t=new o.a,n=[],i=this.normalizedHighlights();if(i){for(var s=function(n){var s=i[n];if(s.text&&("string"==typeof s.text&&e.getIndicesOf(s.text,e.internalValue,l()(s.caseSensitive)?e.caseSensitive:s.caseSensitive).forEach((n=>{var i=n+s.text.length-1;e.insertRange(n,i,s,t)})),"[object RegExp]"===Object.prototype.toString.call(s.text)&&e.getRegexIndices(s.text,e.internalValue).forEach((n=>{e.insertRange(n.start,n.end,s,t)}))),void 0!==s.start&&void 0!==s.end&&s.start<s.end){var o=s.start,r=s.end-1;e.insertRange(o,r,s,t)}},r=0;r<i.length;r++)s(r);n=(n=t.search(0,this.internalValue.length)).sort(((e,t)=>e.start-t.start));for(var a="",c=0,u=function(t){var i,s,o,r=n[t];a+=e.safe_tags_replace(e.internalValue.substring(c,r.start));var l=e.internalValue.substring(r.start,r.end+1).slice(2,-2);a+='<span class="'.concat(n[t].style," ").concat(void 0===(null===(i=e.aggregateEnvs.find((e=>e.key===l)))||void 0===i?void 0:i.value)?"bg-red-400 text-red-50 hover:bg-red-600":"bg-accentDark text-accentContrast hover:bg-accent",'" v-tippy data-tippy-content="').concat(e.getEnvName(null===(s=e.aggregateEnvs.find((e=>e.key===l)))||void 0===s?void 0:s.sourceEnv)," <kbd>").concat(e.getEnvValue(null===(o=e.aggregateEnvs.find((e=>e.key===l)))||void 0===o?void 0:o.value),'</kbd>">').concat(e.safe_tags_replace(e.internalValue.substring(r.start,r.end+1)),"</span>"),c=r.end+1},d=0;d<n.length;d++)u(d);c<this.internalValue.length&&(a+=this.safe_tags_replace(this.internalValue.substring(c,this.internalValue.length)))," "===a[a.length-1]&&(a=a.substring(0,a.length-1),a+="&nbsp;"),this.htmlOutput=a,this.$nextTick((()=>{this.renderTippy()})),this.internalValue!==this.value&&(this.$emit("input",this.internalValue),this.$emit("change",this.internalValue))}},renderTippy(){document.querySelectorAll("[v-tippy]").forEach((e=>{Object(u.c)(e,{content:e.dataset["tippy-content"],theme:"tooltip",popperOptions:{modifiers:{preventOverflow:{enabled:!1},hide:{enabled:!1}}}})}))},insertRange(e,t,n,i){var s=i.search(e,t),o=s.reduce(((e,t)=>Math.max(t.end-t.start,e)),0);0===s.length?i.insert(e,t,{start:e,end:t,style:n.style}):t-e>o&&(s.forEach((e=>{i.remove(e.start,e.end,e)})),i.insert(e,t,{start:e,end:t,style:n.style}))},normalizedHighlights(){if(null==this.highlight)return null;if("[object RegExp]"===Object.prototype.toString.call(this.highlight)||"string"==typeof this.highlight)return[{text:this.highlight}];if("[object Array]"===Object.prototype.toString.call(this.highlight)&&this.highlight.length>0){var e="string"==typeof this.highlightStyle?this.highlightStyle:Object.keys(this.highlightStyle).map((e=>e+":"+this.highlightStyle[e])).join(";")+";",t=this.highlight.filter((e=>e===Object.prototype.toString.call(e)==="[object RegExp]"));return this.highlight.filter((e=>e===Object.prototype.toString.call(e)!=="[object RegExp]")).map((t=>{if(t.text||"string"==typeof t)return{text:t.text||t,style:t.style||e,caseSensitive:t.caseSensitive};if(void 0!==t.start&&void 0!==t.end)return{style:t.style||e,start:t.start,end:t.end,caseSensitive:t.caseSensitive};throw new Error("Please provide a valid highlight object or string")})).sort(((e,t)=>e.text&&t.text?e.text>t.text:e.start===t.start?e.end<t.end:e.start<t.start)).concat(t)}return console.error("Expected a string or an array of strings"),null},safe_tags_replace(e){return e.replace(/[&<>]/g,this.replaceTag)},replaceTag:e=>p[e]||e,getRegexIndices(e,t){if(!e.global)return console.error("Expected "+e+" to be global"),[];e=RegExp(e);for(var n=[],i=null;null!=(i=e.exec(t));)n.push({start:i.index,end:i.index+i[0].length-1});return n},getIndicesOf(e,t,n){var i=e.length;if(0===i)return[];var s,o=0,r=[];for(n||(t=t.toLowerCase(),e=e.toLowerCase());(s=t.indexOf(e,o))>-1;)r.push(s),o=s+i;return r},saveSelection(e){var t;if(window.getSelection&&document.createRange){var n=window.getSelection();if(!n||0===n.rangeCount)return;var i=n.getRangeAt(0),s=i.cloneRange();return s.selectNodeContents(e),s.setEnd(i.startContainer,i.startOffset),{start:t="".concat(s).length,end:t+"".concat(i).length}}if(document.selection){var o=document.selection.createRange(),r=document.body.createTextRange();return r.moveToElementText(e),r.setEndPoint("EndToStart",o),{start:t=r.text.length,end:t+o.text.length}}},restoreSelection(e,t){if(t)if(window.getSelection&&document.createRange){var n=0,i=document.createRange();i.setStart(e,0),i.collapse(!0);for(var s,o=[e],r=!1,a=!1;!a&&(s=o.pop());)if(3===s.nodeType){var c=n+s.length;!r&&t.start>=n&&t.start<=c&&(i.setStart(s,t.start-n),r=!0),r&&t.end>=n&&t.end<=c&&(i.setEnd(s,t.end-n),a=!0),n=c}else for(var l=s.childNodes.length;l--;)o.push(s.childNodes[l]);var u=window.getSelection();u.removeAllRanges(),u.addRange(i)}else if(document.selection){var d=document.body.createTextRange();d.moveToElementText(e),d.collapse(!0),d.moveEnd("character",t.end),d.moveStart("character",t.start),d.select()}},getEnvName:e=>e||"choose an environment",getEnvValue:e=>e?e.replace(/"/g,"&quot;"):"not found"}}),g=f,v=(n(1162),n(16)),m=Object(v.a)(g,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"env-input-container"},[n("div",{ref:"editor",staticClass:"env-input",class:e.styles,attrs:{placeholder:e.placeholder,contenteditable:"true",spellcheck:"false"},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.$emit("enter",t))},function(t){return e.$emit("keydown",t)}],keyup:function(t){return e.$emit("keyup",t)},click:function(t){return e.$emit("click",t)},paste:e.handlePaste,compositionend:e.handleCompositionEnd}})])}),[],!1,null,"51359fa4",null);t.default=m.exports},1162:function(e,t,n){"use strict";n(932)},1163:function(e,t,n){var i=n(109)(!1);i.push([e.i,".env-input-container[data-v-51359fa4] {\n  position: relative;\n  display: -ms-inline-grid;\n  display: inline-grid;\n  -webkit-box-flex: 1;\n  -ms-flex: 1 1 0%;\n  -webkit-flex: 1 1 0%;\n  flex: 1 1 0%;\n}\n[contenteditable][data-v-51359fa4] {\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  -ms-user-select: text;\n  user-select: text;\n  color: var(--secondary-dark-color);\n}\n[contenteditable][data-v-51359fa4]:empty {\n  line-height: 2;\n}\n[contenteditable][data-v-51359fa4]:empty::before {\n  color: var(--secondary-color);\n  opacity: 0.35;\n  pointer-events: none;\n  content: attr(placeholder);\n}\n.env-input[data-v-51359fa4] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n  justify-items: start;\n  white-space: nowrap;\n  overflow-x: auto;\n  overflow-y: hidden;\n  resize: none;\n}\n.env-input[data-v-51359fa4]:focus {\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n}\n.env-input[data-v-51359fa4]::-webkit-scrollbar {\n  display: none;\n}",""]),e.exports=i},1178:function(e,t,n){var i=n(1790);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n(110).default)("c702dc10",i,!0,{sourceMap:!1})},1717:function(e,t,n){var i=n(1822);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n(110).default)("2789757d",i,!0,{sourceMap:!1})},1769:function(e,t,n){"use strict";n.r(t);var i=n(2),s={info:"\tℹ️ [INFO]:\t",client:"\t⬅️ [SENT]:\t",server:"\t➡️ [RECEIVED]:\t"};function o(e){return s[e]}var r=n(20),a={};a.props={log:{type:Array,default:()=>[]},title:{type:String,default:""}},a.setup=(e,t)=>{var n=Object(r.d)(),s=e,a=Object(i.m)(null);return Object(i.x)((()=>s.log),(()=>{a.value&&(a.value.scrollHeight-a.value.scrollTop-a.value.clientHeight<5&&Object(i.f)((()=>a.value.scrollTop=a.value.scrollHeight)))})),{source:o,t:n,logsRef:a}};var c=a,l=(n(1789),n(16)),u=Object(l.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex flex-col"},[n("div",{staticClass:"sticky top-0 z-10 flex items-center justify-between flex-1 pl-4 border-b bg-primary border-dividerLight"},[n("label",{staticClass:"py-2 font-semibold text-secondaryLight",attrs:{for:"log"}},[e._v("\n      "+e._s(e.title)+"\n    ")])]),e._v(" "),n("div",{ref:"logsRef",staticClass:"realtime-log",attrs:{name:"log"}},[e.log?n("span",{staticClass:"space-y-2"},e._l(e.log,(function(t,i){return n("span",{key:"entry-"+i,style:{color:t.color}},[e._v(e._s(t.ts)+e._s(e.source(t.source))+e._s(t.payload))])})),0):n("span",[e._v(e._s(e.t("response.waiting_for_connection")))])])])}),[],!1,null,"86dafc8e",null);t.default=u.exports},1789:function(e,t,n){"use strict";n(1178)},1790:function(e,t,n){var i=n(109)(!1);i.push([e.i,".realtime-log[data-v-86dafc8e] {\n  padding: 1rem;\n  background-color: transparent;\n  color: var(--secondary-color);\n  overflow: auto;\n  height: 256px;\n}\n.realtime-log[data-v-86dafc8e], .realtime-log span[data-v-86dafc8e] {\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  -ms-user-select: text;\n  user-select: text;\n}\n.realtime-log span[data-v-86dafc8e] {\n  display: block;\n  overflow-wrap: break-word;\n  word-break: break-all;\n}",""]),e.exports=i},1821:function(e,t,n){"use strict";n(1717)},1822:function(e,t,n){var i=n(109)(!1);i.push([e.i,'input[type=checkbox][data-v-e69fe2fa] {\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  display: none;\n}\ninput[type=checkbox]+label[data-v-e69fe2fa] {\n  display: -webkit-inline-box;\n  display: -ms-inline-flexbox;\n  display: -webkit-inline-flex;\n  display: inline-flex;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  -webkit-justify-content: center;\n  justify-content: center;\n  cursor: pointer;\n}\ninput[type=checkbox]+label[data-v-e69fe2fa]::before {\n  border-color: var(--divider-color);\n  border-width: 2px;\n  border-radius: 0.25rem;\n  display: -webkit-inline-box;\n  display: -ms-inline-flexbox;\n  display: -webkit-inline-flex;\n  display: inline-flex;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  -webkit-justify-content: center;\n  justify-content: center;\n  color: transparent;\n  height: 1rem;\n  width: 1rem;\n  font-family: var(--font-icon);\n  margin-right: 0.75rem;\n  -webkit-transition-property: background-color, border-color, color, fill, stroke, opacity, -webkit-box-shadow, -webkit-transform, filter, backdrop-filter;\n  -o-transition-property: background-color, border-color, color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;\n  transition-property: background-color, border-color, color, fill, stroke, opacity, box-shadow, -webkit-box-shadow, transform, -webkit-transform, filter, backdrop-filter;\n  -webkit-transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  -o-transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  -webkit-transition-duration: 150ms;\n  -o-transition-duration: 150ms;\n  transition-duration: 150ms;\n  content: "";\n}\n.group:hover input[type=checkbox]+label[data-v-e69fe2fa]::before {\n  border-color: var(--accent-dark-color);\n}\ninput[type=checkbox]:checked+label[data-v-e69fe2fa]::before {\n  background-color: var(--accent-color);\n  border-color: var(--accent-color);\n  color: var(--accent-contrast-color);\n}',""]),e.exports=i},1853:function(e,t,n){"use strict";n.r(t);var i=n(2),s=Object(i.c)({props:{on:{type:Boolean,default:!1}}}),o=(n(1821),n(16)),r=Object(o.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"inline-flex items-center justify-center transition cursor-pointer flex-nowrap group hover:text-secondaryDark",on:{click:function(t){return e.$emit("change")}}},[n("input",{attrs:{id:"checkbox",type:"checkbox",name:"checkbox"},domProps:{checked:e.on},on:{change:function(t){return e.$emit("change")}}}),e._v(" "),n("label",{staticClass:"pl-0 font-semibold align-middle cursor-pointer",attrs:{for:"checkbox"}},[e._t("default")],2)])}),[],!1,null,"e69fe2fa",null);t.default=r.exports},2119:function(e,t,n){(function(t){var n;n=function(){var e=function(e){var t,n=e.localStorage||(t={},{setItem:function(e,n){t[e]=n},getItem:function(e){return t[e]},removeItem:function(e){delete t[e]}}),i=1,s=2,o=3,r=4,a=5,c=6,l=7,u=8,d=9,h=10,p=11,f=12,g=13,v=14,m=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){if(!t.hasOwnProperty(n)){var i="Unknown property, "+n+". Valid properties are:";for(var s in t)t.hasOwnProperty(s)&&(i=i+" "+s);throw new Error(i)}if(typeof e[n]!==t[n])throw new Error(w(y.INVALID_TYPE,[typeof e[n],n]))}},b=function(e,t){return function(){return e.apply(t,arguments)}},y={OK:{code:0,text:"AMQJSC0000I OK."},CONNECT_TIMEOUT:{code:1,text:"AMQJSC0001E Connect timed out."},SUBSCRIBE_TIMEOUT:{code:2,text:"AMQJS0002E Subscribe timed out."},UNSUBSCRIBE_TIMEOUT:{code:3,text:"AMQJS0003E Unsubscribe timed out."},PING_TIMEOUT:{code:4,text:"AMQJS0004E Ping timed out."},INTERNAL_ERROR:{code:5,text:"AMQJS0005E Internal error. Error Message: {0}, Stack trace: {1}"},CONNACK_RETURNCODE:{code:6,text:"AMQJS0006E Bad Connack return code:{0} {1}."},SOCKET_ERROR:{code:7,text:"AMQJS0007E Socket error:{0}."},SOCKET_CLOSE:{code:8,text:"AMQJS0008I Socket closed."},MALFORMED_UTF:{code:9,text:"AMQJS0009E Malformed UTF data:{0} {1} {2}."},UNSUPPORTED:{code:10,text:"AMQJS0010E {0} is not supported by this browser."},INVALID_STATE:{code:11,text:"AMQJS0011E Invalid state {0}."},INVALID_TYPE:{code:12,text:"AMQJS0012E Invalid type {0} for {1}."},INVALID_ARGUMENT:{code:13,text:"AMQJS0013E Invalid argument {0} for {1}."},UNSUPPORTED_OPERATION:{code:14,text:"AMQJS0014E Unsupported operation."},INVALID_STORED_DATA:{code:15,text:"AMQJS0015E Invalid data in local storage key={0} value={1}."},INVALID_MQTT_MESSAGE_TYPE:{code:16,text:"AMQJS0016E Invalid MQTT message type {0}."},MALFORMED_UNICODE:{code:17,text:"AMQJS0017E Malformed Unicode string:{0} {1}."},BUFFER_FULL:{code:18,text:"AMQJS0018E Message buffer is full, maximum buffer size: {0}."}},_={0:"Connection Accepted",1:"Connection Refused: unacceptable protocol version",2:"Connection Refused: identifier rejected",3:"Connection Refused: server unavailable",4:"Connection Refused: bad user name or password",5:"Connection Refused: not authorized"},w=function(e,t){var n=e.text;if(t)for(var i,s,o=0;o<t.length;o++)if(i="{"+o+"}",(s=n.indexOf(i))>0){var r=n.substring(0,s),a=n.substring(s+i.length);n=r+t[o]+a}return n},x=[0,6,77,81,73,115,100,112,3],k=[0,4,77,81,84,84,4],S=function(e,t){for(var n in this.type=e,t)t.hasOwnProperty(n)&&(this[n]=t[n])};function O(e,t){var n,i=t,u=e[t],h=u>>4,f=u&=15;t+=1;var g=0,v=1;do{if(t==e.length)return[null,i];g+=(127&(n=e[t++]))*v,v*=128}while(0!=(128&n));var m=t+g;if(m>e.length)return[null,i];var b=new S(h);switch(h){case s:1&e[t++]&&(b.sessionPresent=!0),b.returnCode=e[t++];break;case o:var y=f>>1&3,_=I(e,t),w=N(e,t+=2,_);t+=_,y>0&&(b.messageIdentifier=I(e,t),t+=2);var x=new D(e.subarray(t,m));1==(1&f)&&(x.retained=!0),8==(8&f)&&(x.duplicate=!0),x.qos=y,x.destinationName=w,b.payloadMessage=x;break;case r:case a:case c:case l:case p:b.messageIdentifier=I(e,t);break;case d:b.messageIdentifier=I(e,t),t+=2,b.returnCode=e.subarray(t,m)}return[b,m]}function E(e,t,n){return t[n++]=e>>8,t[n++]=e%256,n}function C(e,t,n,i){return M(e,n,i=E(t,n,i)),i+t}function I(e,t){return 256*e[t]+e[t+1]}function T(e){for(var t=0,n=0;n<e.length;n++){var i=e.charCodeAt(n);i>2047?(55296<=i&&i<=56319&&(n++,t++),t+=3):i>127?t+=2:t++}return t}function M(e,t,n){for(var i=n,s=0;s<e.length;s++){var o=e.charCodeAt(s);if(55296<=o&&o<=56319){var r=e.charCodeAt(++s);if(isNaN(r))throw new Error(w(y.MALFORMED_UNICODE,[o,r]));o=r-56320+(o-55296<<10)+65536}o<=127?t[i++]=o:o<=2047?(t[i++]=o>>6&31|192,t[i++]=63&o|128):o<=65535?(t[i++]=o>>12&15|224,t[i++]=o>>6&63|128,t[i++]=63&o|128):(t[i++]=o>>18&7|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=63&o|128)}return t}function N(e,t,n){for(var i,s="",o=t;o<t+n;){var r=e[o++];if(r<128)i=r;else{var a=e[o++]-128;if(a<0)throw new Error(w(y.MALFORMED_UTF,[r.toString(16),a.toString(16),""]));if(r<224)i=64*(r-192)+a;else{var c=e[o++]-128;if(c<0)throw new Error(w(y.MALFORMED_UTF,[r.toString(16),a.toString(16),c.toString(16)]));if(r<240)i=4096*(r-224)+64*a+c;else{var l=e[o++]-128;if(l<0)throw new Error(w(y.MALFORMED_UTF,[r.toString(16),a.toString(16),c.toString(16),l.toString(16)]));if(!(r<248))throw new Error(w(y.MALFORMED_UTF,[r.toString(16),a.toString(16),c.toString(16),l.toString(16)]));i=262144*(r-240)+4096*a+64*c+l}}}i>65535&&(i-=65536,s+=String.fromCharCode(55296+(i>>10)),i=56320+(1023&i)),s+=String.fromCharCode(i)}return s}S.prototype.encode=function(){var e,t=(15&this.type)<<4,n=0,s=[],r=0;switch(void 0!==this.messageIdentifier&&(n+=2),this.type){case i:switch(this.mqttVersion){case 3:n+=x.length+3;break;case 4:n+=k.length+3}n+=T(this.clientId)+2,void 0!==this.willMessage&&(n+=T(this.willMessage.destinationName)+2,(e=this.willMessage.payloadBytes)instanceof Uint8Array||(e=new Uint8Array(l)),n+=e.byteLength+2),void 0!==this.userName&&(n+=T(this.userName)+2),void 0!==this.password&&(n+=T(this.password)+2);break;case u:t|=2;for(var a=0;a<this.topics.length;a++)s[a]=T(this.topics[a]),n+=s[a]+2;n+=this.requestedQos.length;break;case h:for(t|=2,a=0;a<this.topics.length;a++)s[a]=T(this.topics[a]),n+=s[a]+2;break;case c:t|=2;break;case o:this.payloadMessage.duplicate&&(t|=8),t=t|=this.payloadMessage.qos<<1,this.payloadMessage.retained&&(t|=1),n+=(r=T(this.payloadMessage.destinationName))+2;var l=this.payloadMessage.payloadBytes;n+=l.byteLength,l instanceof ArrayBuffer?l=new Uint8Array(l):l instanceof Uint8Array||(l=new Uint8Array(l.buffer))}var d=function(e){var t=new Array(1),n=0;do{var i=e%128;(e>>=7)>0&&(i|=128),t[n++]=i}while(e>0&&n<4);return t}(n),p=d.length+1,f=new ArrayBuffer(n+p),g=new Uint8Array(f);if(g[0]=t,g.set(d,1),this.type==o)p=C(this.payloadMessage.destinationName,r,g,p);else if(this.type==i){switch(this.mqttVersion){case 3:g.set(x,p),p+=x.length;break;case 4:g.set(k,p),p+=k.length}var v=0;this.cleanSession&&(v=2),void 0!==this.willMessage&&(v|=4,v|=this.willMessage.qos<<3,this.willMessage.retained&&(v|=32)),void 0!==this.userName&&(v|=128),void 0!==this.password&&(v|=64),g[p++]=v,p=E(this.keepAliveInterval,g,p)}switch(void 0!==this.messageIdentifier&&(p=E(this.messageIdentifier,g,p)),this.type){case i:p=C(this.clientId,T(this.clientId),g,p),void 0!==this.willMessage&&(p=C(this.willMessage.destinationName,T(this.willMessage.destinationName),g,p),p=E(e.byteLength,g,p),g.set(e,p),p+=e.byteLength),void 0!==this.userName&&(p=C(this.userName,T(this.userName),g,p)),void 0!==this.password&&(p=C(this.password,T(this.password),g,p));break;case o:g.set(l,p);break;case u:for(a=0;a<this.topics.length;a++)p=C(this.topics[a],s[a],g,p),g[p++]=this.requestedQos[a];break;case h:for(a=0;a<this.topics.length;a++)p=C(this.topics[a],s[a],g,p)}return f};var A=function(e,t){this._client=e,this._keepAliveInterval=1e3*t,this.isReset=!1;var n=new S(f).encode(),i=function(e){return function(){return s.apply(e)}},s=function(){this.isReset?(this.isReset=!1,this._client._trace("Pinger.doPing","send PINGREQ"),this._client.socket.send(n),this.timeout=setTimeout(i(this),this._keepAliveInterval)):(this._client._trace("Pinger.doPing","Timed out"),this._client._disconnected(y.PING_TIMEOUT.code,w(y.PING_TIMEOUT)))};this.reset=function(){this.isReset=!0,clearTimeout(this.timeout),this._keepAliveInterval>0&&(this.timeout=setTimeout(i(this),this._keepAliveInterval))},this.cancel=function(){clearTimeout(this.timeout)}},L=function(e,t,n,i){t||(t=30),this.timeout=setTimeout(function(e,t,n){return function(){return e.apply(t,n)}}(n,e,i),1e3*t),this.cancel=function(){clearTimeout(this.timeout)}},R=function(t,i,s,o,r){if(!("WebSocket"in e)||null===e.WebSocket)throw new Error(w(y.UNSUPPORTED,["WebSocket"]));if(!("ArrayBuffer"in e)||null===e.ArrayBuffer)throw new Error(w(y.UNSUPPORTED,["ArrayBuffer"]));for(var a in this._trace("Paho.Client",t,i,s,o,r),this.host=i,this.port=s,this.path=o,this.uri=t,this.clientId=r,this._wsuri=null,this._localKey=i+":"+s+("/mqtt"!=o?":"+o:"")+":"+r+":",this._msg_queue=[],this._buffered_msg_queue=[],this._sentMessages={},this._receivedMessages={},this._notify_msg_sent={},this._message_identifier=1,this._sequence=0,n)0!==a.indexOf("Sent:"+this._localKey)&&0!==a.indexOf("Received:"+this._localKey)||this.restore(a)};R.prototype.host=null,R.prototype.port=null,R.prototype.path=null,R.prototype.uri=null,R.prototype.clientId=null,R.prototype.socket=null,R.prototype.connected=!1,R.prototype.maxMessageIdentifier=65536,R.prototype.connectOptions=null,R.prototype.hostIndex=null,R.prototype.onConnected=null,R.prototype.onConnectionLost=null,R.prototype.onMessageDelivered=null,R.prototype.onMessageArrived=null,R.prototype.traceFunction=null,R.prototype._msg_queue=null,R.prototype._buffered_msg_queue=null,R.prototype._connectTimeout=null,R.prototype.sendPinger=null,R.prototype.receivePinger=null,R.prototype._reconnectInterval=1,R.prototype._reconnecting=!1,R.prototype._reconnectTimeout=null,R.prototype.disconnectedPublishing=!1,R.prototype.disconnectedBufferSize=5e3,R.prototype.receiveBuffer=null,R.prototype._traceBuffer=null,R.prototype._MAX_TRACE_ENTRIES=100,R.prototype.connect=function(e){var t=this._traceMask(e,"password");if(this._trace("Client.connect",t,this.socket,this.connected),this.connected)throw new Error(w(y.INVALID_STATE,["already connected"]));if(this.socket)throw new Error(w(y.INVALID_STATE,["already connected"]));this._reconnecting&&(this._reconnectTimeout.cancel(),this._reconnectTimeout=null,this._reconnecting=!1),this.connectOptions=e,this._reconnectInterval=1,this._reconnecting=!1,e.uris?(this.hostIndex=0,this._doConnect(e.uris[0])):this._doConnect(this.uri)},R.prototype.subscribe=function(e,t){if(this._trace("Client.subscribe",e,t),!this.connected)throw new Error(w(y.INVALID_STATE,["not connected"]));var n=new S(u);n.topics=e.constructor===Array?e:[e],void 0===t.qos&&(t.qos=0),n.requestedQos=[];for(var i=0;i<n.topics.length;i++)n.requestedQos[i]=t.qos;t.onSuccess&&(n.onSuccess=function(e){t.onSuccess({invocationContext:t.invocationContext,grantedQos:e})}),t.onFailure&&(n.onFailure=function(e){t.onFailure({invocationContext:t.invocationContext,errorCode:e,errorMessage:w(e)})}),t.timeout&&(n.timeOut=new L(this,t.timeout,t.onFailure,[{invocationContext:t.invocationContext,errorCode:y.SUBSCRIBE_TIMEOUT.code,errorMessage:w(y.SUBSCRIBE_TIMEOUT)}])),this._requires_ack(n),this._schedule_message(n)},R.prototype.unsubscribe=function(e,t){if(this._trace("Client.unsubscribe",e,t),!this.connected)throw new Error(w(y.INVALID_STATE,["not connected"]));var n=new S(h);n.topics=e.constructor===Array?e:[e],t.onSuccess&&(n.callback=function(){t.onSuccess({invocationContext:t.invocationContext})}),t.timeout&&(n.timeOut=new L(this,t.timeout,t.onFailure,[{invocationContext:t.invocationContext,errorCode:y.UNSUBSCRIBE_TIMEOUT.code,errorMessage:w(y.UNSUBSCRIBE_TIMEOUT)}])),this._requires_ack(n),this._schedule_message(n)},R.prototype.send=function(e){this._trace("Client.send",e);var t=new S(o);if(t.payloadMessage=e,this.connected)e.qos>0?this._requires_ack(t):this.onMessageDelivered&&(this._notify_msg_sent[t]=this.onMessageDelivered(t.payloadMessage)),this._schedule_message(t);else{if(!this._reconnecting||!this.disconnectedPublishing)throw new Error(w(y.INVALID_STATE,["not connected"]));if(Object.keys(this._sentMessages).length+this._buffered_msg_queue.length>this.disconnectedBufferSize)throw new Error(w(y.BUFFER_FULL,[this.disconnectedBufferSize]));e.qos>0?this._requires_ack(t):(t.sequence=++this._sequence,this._buffered_msg_queue.unshift(t))}},R.prototype.disconnect=function(){if(this._trace("Client.disconnect"),this._reconnecting&&(this._reconnectTimeout.cancel(),this._reconnectTimeout=null,this._reconnecting=!1),!this.socket)throw new Error(w(y.INVALID_STATE,["not connecting or connected"]));var e=new S(v);this._notify_msg_sent[e]=b(this._disconnected,this),this._schedule_message(e)},R.prototype.getTraceLog=function(){if(null!==this._traceBuffer){for(var e in this._trace("Client.getTraceLog",new Date),this._trace("Client.getTraceLog in flight messages",this._sentMessages.length),this._sentMessages)this._trace("_sentMessages ",e,this._sentMessages[e]);for(var e in this._receivedMessages)this._trace("_receivedMessages ",e,this._receivedMessages[e]);return this._traceBuffer}},R.prototype.startTrace=function(){null===this._traceBuffer&&(this._traceBuffer=[]),this._trace("Client.startTrace",new Date,"@VERSION@-@BUILDLEVEL@")},R.prototype.stopTrace=function(){delete this._traceBuffer},R.prototype._doConnect=function(e){if(this.connectOptions.useSSL){var t=e.split(":");t[0]="wss",e=t.join(":")}this._wsuri=e,this.connected=!1,this.connectOptions.mqttVersion<4?this.socket=new WebSocket(e,["mqttv3.1"]):this.socket=new WebSocket(e,["mqtt"]),this.socket.binaryType="arraybuffer",this.socket.onopen=b(this._on_socket_open,this),this.socket.onmessage=b(this._on_socket_message,this),this.socket.onerror=b(this._on_socket_error,this),this.socket.onclose=b(this._on_socket_close,this),this.sendPinger=new A(this,this.connectOptions.keepAliveInterval),this.receivePinger=new A(this,this.connectOptions.keepAliveInterval),this._connectTimeout&&(this._connectTimeout.cancel(),this._connectTimeout=null),this._connectTimeout=new L(this,this.connectOptions.timeout,this._disconnected,[y.CONNECT_TIMEOUT.code,w(y.CONNECT_TIMEOUT)])},R.prototype._schedule_message=function(e){this._msg_queue.unshift(e),this.connected&&this._process_queue()},R.prototype.store=function(e,t){var i={type:t.type,messageIdentifier:t.messageIdentifier,version:1};if(t.type!==o)throw Error(w(y.INVALID_STORED_DATA,[e+this._localKey+t.messageIdentifier,i]));t.pubRecReceived&&(i.pubRecReceived=!0),i.payloadMessage={};for(var s="",r=t.payloadMessage.payloadBytes,a=0;a<r.length;a++)r[a]<=15?s=s+"0"+r[a].toString(16):s+=r[a].toString(16);i.payloadMessage.payloadHex=s,i.payloadMessage.qos=t.payloadMessage.qos,i.payloadMessage.destinationName=t.payloadMessage.destinationName,t.payloadMessage.duplicate&&(i.payloadMessage.duplicate=!0),t.payloadMessage.retained&&(i.payloadMessage.retained=!0),0===e.indexOf("Sent:")&&(void 0===t.sequence&&(t.sequence=++this._sequence),i.sequence=t.sequence),n.setItem(e+this._localKey+t.messageIdentifier,JSON.stringify(i))},R.prototype.restore=function(e){var t=n.getItem(e),i=JSON.parse(t),s=new S(i.type,i);if(i.type!==o)throw Error(w(y.INVALID_STORED_DATA,[e,t]));for(var r=i.payloadMessage.payloadHex,a=new ArrayBuffer(r.length/2),c=new Uint8Array(a),l=0;r.length>=2;){var u=parseInt(r.substring(0,2),16);r=r.substring(2,r.length),c[l++]=u}var d=new D(c);d.qos=i.payloadMessage.qos,d.destinationName=i.payloadMessage.destinationName,i.payloadMessage.duplicate&&(d.duplicate=!0),i.payloadMessage.retained&&(d.retained=!0),s.payloadMessage=d,0===e.indexOf("Sent:"+this._localKey)?(s.payloadMessage.duplicate=!0,this._sentMessages[s.messageIdentifier]=s):0===e.indexOf("Received:"+this._localKey)&&(this._receivedMessages[s.messageIdentifier]=s)},R.prototype._process_queue=function(){for(var e=null;e=this._msg_queue.pop();)this._socket_send(e),this._notify_msg_sent[e]&&(this._notify_msg_sent[e](),delete this._notify_msg_sent[e])},R.prototype._requires_ack=function(e){var t=Object.keys(this._sentMessages).length;if(t>this.maxMessageIdentifier)throw Error("Too many messages:"+t);for(;void 0!==this._sentMessages[this._message_identifier];)this._message_identifier++;e.messageIdentifier=this._message_identifier,this._sentMessages[e.messageIdentifier]=e,e.type===o&&this.store("Sent:",e),this._message_identifier===this.maxMessageIdentifier&&(this._message_identifier=1)},R.prototype._on_socket_open=function(){var e=new S(i,this.connectOptions);e.clientId=this.clientId,this._socket_send(e)},R.prototype._on_socket_message=function(e){this._trace("Client._on_socket_message",e.data);for(var t=this._deframeMessages(e.data),n=0;n<t.length;n+=1)this._handleMessage(t[n])},R.prototype._deframeMessages=function(e){var t=new Uint8Array(e),n=[];if(this.receiveBuffer){var i=new Uint8Array(this.receiveBuffer.length+t.length);i.set(this.receiveBuffer),i.set(t,this.receiveBuffer.length),t=i,delete this.receiveBuffer}try{for(var s=0;s<t.length;){var o=O(t,s),r=o[0];if(s=o[1],null===r)break;n.push(r)}s<t.length&&(this.receiveBuffer=t.subarray(s))}catch(e){var a="undefined"==e.hasOwnProperty("stack")?e.stack.toString():"No Error Stack Available";return void this._disconnected(y.INTERNAL_ERROR.code,w(y.INTERNAL_ERROR,[e.message,a]))}return n},R.prototype._handleMessage=function(e){this._trace("Client._handleMessage",e);try{switch(e.type){case s:if(this._connectTimeout.cancel(),this._reconnectTimeout&&this._reconnectTimeout.cancel(),this.connectOptions.cleanSession){for(var t in this._sentMessages){var i=this._sentMessages[t];n.removeItem("Sent:"+this._localKey+i.messageIdentifier)}for(var t in this._sentMessages={},this._receivedMessages){var u=this._receivedMessages[t];n.removeItem("Received:"+this._localKey+u.messageIdentifier)}this._receivedMessages={}}if(0!==e.returnCode){this._disconnected(y.CONNACK_RETURNCODE.code,w(y.CONNACK_RETURNCODE,[e.returnCode,_[e.returnCode]]));break}this.connected=!0,this.connectOptions.uris&&(this.hostIndex=this.connectOptions.uris.length);var h=[];for(var f in this._sentMessages)this._sentMessages.hasOwnProperty(f)&&h.push(this._sentMessages[f]);if(this._buffered_msg_queue.length>0)for(var v=null;v=this._buffered_msg_queue.pop();)h.push(v),this.onMessageDelivered&&(this._notify_msg_sent[v]=this.onMessageDelivered(v.payloadMessage));h=h.sort((function(e,t){return e.sequence-t.sequence}));for(var m=0,b=h.length;m<b;m++)if((i=h[m]).type==o&&i.pubRecReceived){var x=new S(c,{messageIdentifier:i.messageIdentifier});this._schedule_message(x)}else this._schedule_message(i);this.connectOptions.onSuccess&&this.connectOptions.onSuccess({invocationContext:this.connectOptions.invocationContext});var k=!1;this._reconnecting&&(k=!0,this._reconnectInterval=1,this._reconnecting=!1),this._connected(k,this._wsuri),this._process_queue();break;case o:this._receivePublish(e);break;case r:(i=this._sentMessages[e.messageIdentifier])&&(delete this._sentMessages[e.messageIdentifier],n.removeItem("Sent:"+this._localKey+e.messageIdentifier),this.onMessageDelivered&&this.onMessageDelivered(i.payloadMessage));break;case a:(i=this._sentMessages[e.messageIdentifier])&&(i.pubRecReceived=!0,x=new S(c,{messageIdentifier:e.messageIdentifier}),this.store("Sent:",i),this._schedule_message(x));break;case c:u=this._receivedMessages[e.messageIdentifier],n.removeItem("Received:"+this._localKey+e.messageIdentifier),u&&(this._receiveMessage(u),delete this._receivedMessages[e.messageIdentifier]);var O=new S(l,{messageIdentifier:e.messageIdentifier});this._schedule_message(O);break;case l:i=this._sentMessages[e.messageIdentifier],delete this._sentMessages[e.messageIdentifier],n.removeItem("Sent:"+this._localKey+e.messageIdentifier),this.onMessageDelivered&&this.onMessageDelivered(i.payloadMessage);break;case d:(i=this._sentMessages[e.messageIdentifier])&&(i.timeOut&&i.timeOut.cancel(),128===e.returnCode[0]?i.onFailure&&i.onFailure(e.returnCode):i.onSuccess&&i.onSuccess(e.returnCode),delete this._sentMessages[e.messageIdentifier]);break;case p:(i=this._sentMessages[e.messageIdentifier])&&(i.timeOut&&i.timeOut.cancel(),i.callback&&i.callback(),delete this._sentMessages[e.messageIdentifier]);break;case g:this.sendPinger.reset();break;default:this._disconnected(y.INVALID_MQTT_MESSAGE_TYPE.code,w(y.INVALID_MQTT_MESSAGE_TYPE,[e.type]))}}catch(e){var E="undefined"==e.hasOwnProperty("stack")?e.stack.toString():"No Error Stack Available";return void this._disconnected(y.INTERNAL_ERROR.code,w(y.INTERNAL_ERROR,[e.message,E]))}},R.prototype._on_socket_error=function(e){this._reconnecting||this._disconnected(y.SOCKET_ERROR.code,w(y.SOCKET_ERROR,[e.data]))},R.prototype._on_socket_close=function(){this._reconnecting||this._disconnected(y.SOCKET_CLOSE.code,w(y.SOCKET_CLOSE))},R.prototype._socket_send=function(e){if(1==e.type){var t=this._traceMask(e,"password");this._trace("Client._socket_send",t)}else this._trace("Client._socket_send",e);this.socket.send(e.encode()),this.sendPinger.reset()},R.prototype._receivePublish=function(e){switch(e.payloadMessage.qos){case"undefined":case 0:this._receiveMessage(e);break;case 1:var t=new S(r,{messageIdentifier:e.messageIdentifier});this._schedule_message(t),this._receiveMessage(e);break;case 2:this._receivedMessages[e.messageIdentifier]=e,this.store("Received:",e);var n=new S(a,{messageIdentifier:e.messageIdentifier});this._schedule_message(n);break;default:throw Error("Invaild qos="+e.payloadMessage.qos)}},R.prototype._receiveMessage=function(e){this.onMessageArrived&&this.onMessageArrived(e.payloadMessage)},R.prototype._connected=function(e,t){this.onConnected&&this.onConnected(e,t)},R.prototype._reconnect=function(){this._trace("Client._reconnect"),this.connected||(this._reconnecting=!0,this.sendPinger.cancel(),this.receivePinger.cancel(),this._reconnectInterval<128&&(this._reconnectInterval=2*this._reconnectInterval),this.connectOptions.uris?(this.hostIndex=0,this._doConnect(this.connectOptions.uris[0])):this._doConnect(this.uri))},R.prototype._disconnected=function(e,t){if(this._trace("Client._disconnected",e,t),void 0!==e&&this._reconnecting)this._reconnectTimeout=new L(this,this._reconnectInterval,this._reconnect);else if(this.sendPinger.cancel(),this.receivePinger.cancel(),this._connectTimeout&&(this._connectTimeout.cancel(),this._connectTimeout=null),this._msg_queue=[],this._buffered_msg_queue=[],this._notify_msg_sent={},this.socket&&(this.socket.onopen=null,this.socket.onmessage=null,this.socket.onerror=null,this.socket.onclose=null,1===this.socket.readyState&&this.socket.close(),delete this.socket),this.connectOptions.uris&&this.hostIndex<this.connectOptions.uris.length-1)this.hostIndex++,this._doConnect(this.connectOptions.uris[this.hostIndex]);else if(void 0===e&&(e=y.OK.code,t=w(y.OK)),this.connected){if(this.connected=!1,this.onConnectionLost&&this.onConnectionLost({errorCode:e,errorMessage:t,reconnect:this.connectOptions.reconnect,uri:this._wsuri}),e!==y.OK.code&&this.connectOptions.reconnect)return this._reconnectInterval=1,void this._reconnect()}else 4===this.connectOptions.mqttVersion&&!1===this.connectOptions.mqttVersionExplicit?(this._trace("Failed to connect V4, dropping back to V3"),this.connectOptions.mqttVersion=3,this.connectOptions.uris?(this.hostIndex=0,this._doConnect(this.connectOptions.uris[0])):this._doConnect(this.uri)):this.connectOptions.onFailure&&this.connectOptions.onFailure({invocationContext:this.connectOptions.invocationContext,errorCode:e,errorMessage:t})},R.prototype._trace=function(){if(this.traceFunction){var e=Array.prototype.slice.call(arguments);for(var t in e)void 0!==e[t]&&e.splice(t,1,JSON.stringify(e[t]));var n=e.join("");this.traceFunction({severity:"Debug",message:n})}if(null!==this._traceBuffer){t=0;for(var i=arguments.length;t<i;t++)this._traceBuffer.length==this._MAX_TRACE_ENTRIES&&this._traceBuffer.shift(),0===t||void 0===arguments[t]?this._traceBuffer.push(arguments[t]):this._traceBuffer.push("  "+JSON.stringify(arguments[t]))}},R.prototype._traceMask=function(e,t){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=i==t?"******":e[i]);return n};var D=function(e){var t,n;if(!("string"==typeof e||e instanceof ArrayBuffer||ArrayBuffer.isView(e)&&!(e instanceof DataView)))throw w(y.INVALID_ARGUMENT,[e,"newPayload"]);t=e;var i=0,s=!1,o=!1;Object.defineProperties(this,{payloadString:{enumerable:!0,get:function(){return"string"==typeof t?t:N(t,0,t.length)}},payloadBytes:{enumerable:!0,get:function(){if("string"==typeof t){var e=new ArrayBuffer(T(t)),n=new Uint8Array(e);return M(t,n,0),n}return t}},destinationName:{enumerable:!0,get:function(){return n},set:function(e){if("string"!=typeof e)throw new Error(w(y.INVALID_ARGUMENT,[e,"newDestinationName"]));n=e}},qos:{enumerable:!0,get:function(){return i},set:function(e){if(0!==e&&1!==e&&2!==e)throw new Error("Invalid argument:"+e);i=e}},retained:{enumerable:!0,get:function(){return s},set:function(e){if("boolean"!=typeof e)throw new Error(w(y.INVALID_ARGUMENT,[e,"newRetained"]));s=e}},topic:{enumerable:!0,get:function(){return n},set:function(e){n=e}},duplicate:{enumerable:!0,get:function(){return o},set:function(e){o=e}}})};return{Client:function(e,t,n,i){var s;if("string"!=typeof e)throw new Error(w(y.INVALID_TYPE,[typeof e,"host"]));if(2==arguments.length){i=t;var o=(s=e).match(/^(wss?):\/\/((\[(.+)\])|([^\/]+?))(:(\d+))?(\/.*)$/);if(!o)throw new Error(w(y.INVALID_ARGUMENT,[e,"host"]));e=o[4]||o[2],t=parseInt(o[7]),n=o[8]}else{if(3==arguments.length&&(i=n,n="/mqtt"),"number"!=typeof t||t<0)throw new Error(w(y.INVALID_TYPE,[typeof t,"port"]));if("string"!=typeof n)throw new Error(w(y.INVALID_TYPE,[typeof n,"path"]));var r=-1!==e.indexOf(":")&&"["!==e.slice(0,1)&&"]"!==e.slice(-1);s="ws://"+(r?"["+e+"]":e)+":"+t+n}for(var a=0,c=0;c<i.length;c++){var l=i.charCodeAt(c);55296<=l&&l<=56319&&c++,a++}if("string"!=typeof i||a>65535)throw new Error(w(y.INVALID_ARGUMENT,[i,"clientId"]));var u=new R(s,e,t,n,i);Object.defineProperties(this,{host:{get:function(){return e},set:function(){throw new Error(w(y.UNSUPPORTED_OPERATION))}},port:{get:function(){return t},set:function(){throw new Error(w(y.UNSUPPORTED_OPERATION))}},path:{get:function(){return n},set:function(){throw new Error(w(y.UNSUPPORTED_OPERATION))}},uri:{get:function(){return s},set:function(){throw new Error(w(y.UNSUPPORTED_OPERATION))}},clientId:{get:function(){return u.clientId},set:function(){throw new Error(w(y.UNSUPPORTED_OPERATION))}},onConnected:{get:function(){return u.onConnected},set:function(e){if("function"!=typeof e)throw new Error(w(y.INVALID_TYPE,[typeof e,"onConnected"]));u.onConnected=e}},disconnectedPublishing:{get:function(){return u.disconnectedPublishing},set:function(e){u.disconnectedPublishing=e}},disconnectedBufferSize:{get:function(){return u.disconnectedBufferSize},set:function(e){u.disconnectedBufferSize=e}},onConnectionLost:{get:function(){return u.onConnectionLost},set:function(e){if("function"!=typeof e)throw new Error(w(y.INVALID_TYPE,[typeof e,"onConnectionLost"]));u.onConnectionLost=e}},onMessageDelivered:{get:function(){return u.onMessageDelivered},set:function(e){if("function"!=typeof e)throw new Error(w(y.INVALID_TYPE,[typeof e,"onMessageDelivered"]));u.onMessageDelivered=e}},onMessageArrived:{get:function(){return u.onMessageArrived},set:function(e){if("function"!=typeof e)throw new Error(w(y.INVALID_TYPE,[typeof e,"onMessageArrived"]));u.onMessageArrived=e}},trace:{get:function(){return u.traceFunction},set:function(e){if("function"!=typeof e)throw new Error(w(y.INVALID_TYPE,[typeof e,"onTrace"]));u.traceFunction=e}}}),this.connect=function(e){if(m(e=e||{},{timeout:"number",userName:"string",password:"string",willMessage:"object",keepAliveInterval:"number",cleanSession:"boolean",useSSL:"boolean",invocationContext:"object",onSuccess:"function",onFailure:"function",hosts:"object",ports:"object",reconnect:"boolean",mqttVersion:"number",mqttVersionExplicit:"boolean",uris:"object"}),void 0===e.keepAliveInterval&&(e.keepAliveInterval=60),e.mqttVersion>4||e.mqttVersion<3)throw new Error(w(y.INVALID_ARGUMENT,[e.mqttVersion,"connectOptions.mqttVersion"]));if(void 0===e.mqttVersion?(e.mqttVersionExplicit=!1,e.mqttVersion=4):e.mqttVersionExplicit=!0,void 0!==e.password&&void 0===e.userName)throw new Error(w(y.INVALID_ARGUMENT,[e.password,"connectOptions.password"]));if(e.willMessage){if(!(e.willMessage instanceof D))throw new Error(w(y.INVALID_TYPE,[e.willMessage,"connectOptions.willMessage"]));if(e.willMessage.stringPayload=null,void 0===e.willMessage.destinationName)throw new Error(w(y.INVALID_TYPE,[typeof e.willMessage.destinationName,"connectOptions.willMessage.destinationName"]))}if(void 0===e.cleanSession&&(e.cleanSession=!0),e.hosts){if(!(e.hosts instanceof Array))throw new Error(w(y.INVALID_ARGUMENT,[e.hosts,"connectOptions.hosts"]));if(e.hosts.length<1)throw new Error(w(y.INVALID_ARGUMENT,[e.hosts,"connectOptions.hosts"]));for(var t=!1,i=0;i<e.hosts.length;i++){if("string"!=typeof e.hosts[i])throw new Error(w(y.INVALID_TYPE,[typeof e.hosts[i],"connectOptions.hosts["+i+"]"]));if(/^(wss?):\/\/((\[(.+)\])|([^\/]+?))(:(\d+))?(\/.*)$/.test(e.hosts[i])){if(0===i)t=!0;else if(!t)throw new Error(w(y.INVALID_ARGUMENT,[e.hosts[i],"connectOptions.hosts["+i+"]"]))}else if(t)throw new Error(w(y.INVALID_ARGUMENT,[e.hosts[i],"connectOptions.hosts["+i+"]"]))}if(t)e.uris=e.hosts;else{if(!e.ports)throw new Error(w(y.INVALID_ARGUMENT,[e.ports,"connectOptions.ports"]));if(!(e.ports instanceof Array))throw new Error(w(y.INVALID_ARGUMENT,[e.ports,"connectOptions.ports"]));if(e.hosts.length!==e.ports.length)throw new Error(w(y.INVALID_ARGUMENT,[e.ports,"connectOptions.ports"]));for(e.uris=[],i=0;i<e.hosts.length;i++){if("number"!=typeof e.ports[i]||e.ports[i]<0)throw new Error(w(y.INVALID_TYPE,[typeof e.ports[i],"connectOptions.ports["+i+"]"]));var o=e.hosts[i],r=e.ports[i],a=-1!==o.indexOf(":");s="ws://"+(a?"["+o+"]":o)+":"+r+n,e.uris.push(s)}}}u.connect(e)},this.subscribe=function(e,t){if("string"!=typeof e&&e.constructor!==Array)throw new Error("Invalid argument:"+e);if(m(t=t||{},{qos:"number",invocationContext:"object",onSuccess:"function",onFailure:"function",timeout:"number"}),t.timeout&&!t.onFailure)throw new Error("subscribeOptions.timeout specified with no onFailure callback.");if(void 0!==t.qos&&0!==t.qos&&1!==t.qos&&2!==t.qos)throw new Error(w(y.INVALID_ARGUMENT,[t.qos,"subscribeOptions.qos"]));u.subscribe(e,t)},this.unsubscribe=function(e,t){if("string"!=typeof e&&e.constructor!==Array)throw new Error("Invalid argument:"+e);if(m(t=t||{},{invocationContext:"object",onSuccess:"function",onFailure:"function",timeout:"number"}),t.timeout&&!t.onFailure)throw new Error("unsubscribeOptions.timeout specified with no onFailure callback.");u.unsubscribe(e,t)},this.send=function(e,t,n,i){var s;if(0===arguments.length)throw new Error("Invalid argument.length");if(1==arguments.length){if(!(e instanceof D)&&"string"!=typeof e)throw new Error("Invalid argument:"+typeof e);if(void 0===(s=e).destinationName)throw new Error(w(y.INVALID_ARGUMENT,[s.destinationName,"Message.destinationName"]));u.send(s)}else(s=new D(t)).destinationName=e,arguments.length>=3&&(s.qos=n),arguments.length>=4&&(s.retained=i),u.send(s)},this.publish=function(e,t,n,i){var s;if(0===arguments.length)throw new Error("Invalid argument.length");if(1==arguments.length){if(!(e instanceof D)&&"string"!=typeof e)throw new Error("Invalid argument:"+typeof e);if(void 0===(s=e).destinationName)throw new Error(w(y.INVALID_ARGUMENT,[s.destinationName,"Message.destinationName"]));u.send(s)}else(s=new D(t)).destinationName=e,arguments.length>=3&&(s.qos=n),arguments.length>=4&&(s.retained=i),u.send(s)},this.disconnect=function(){u.disconnect()},this.getTraceLog=function(){return u.getTraceLog()},this.startTrace=function(){u.startTrace()},this.stopTrace=function(){u.stopTrace()},this.isConnected=function(){return u.connected}},Message:D}}(void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});return e},e.exports=n()}).call(this,n(61))},2137:function(e,t){},2168:function(e,t,n){"use strict";n.r(t);var i=n(2),s=n(262),o=(n(468),n(1029)),r=n.n(o),a=n(176),c=n(178),l=n(19),u=n(301),d=n(20),h=Object(i.c)({components:{Splitpanes:s.Splitpanes,Pane:s.Pane},setup:()=>({windowInnerWidth:Object(c.a)(),SIDEBAR:Object(l.j)("SIDEBAR"),COLUMN_LAYOUT:Object(l.j)("COLUMN_LAYOUT"),SIDEBAR_ON_LEFT:Object(l.j)("SIDEBAR_ON_LEFT"),url:Object(d.h)(u.c,"",u.n),protocols:Object(d.h)(u.e,[],u.p),connectionState:Object(d.h)(u.b,!1,u.m),connectingState:Object(d.h)(u.a,!1,u.l),socket:Object(d.h)(u.g,null,u.r),log:Object(d.h)(u.d,[],u.o)}),data:()=>({isUrlValid:!0,communication:{input:""},currentIndex:-1,activeProtocols:[]}),computed:{urlValid(){return this.isUrlValid}},watch:{url(){this.debouncer()},protocols:{handler(e){this.activeProtocols=e.filter((e=>!Object.prototype.hasOwnProperty.call(e,"active")||!0===e.active)).map((e=>{var{value:t}=e;return t}))},deep:!0}},created(){this.worker=this.$worker.createRejexWorker(),this.worker.addEventListener("message",this.workerResponseHandler)},destroyed(){this.worker.terminate()},methods:{clearContent(){Object(u.j)()},debouncer:r()((function(){this.worker.postMessage({type:"ws",url:this.url})}),1e3),workerResponseHandler(e){var{data:t}=e;t.url===this.url&&(this.isUrlValid=t.result)},toggleConnection(){return this.connectionState?this.disconnect():this.connect()},connect(){this.log=[{payload:this.$t("state.connecting_to",{name:this.url}),source:"info",color:"var(--accent-color)"}];try{this.connectingState=!0,this.socket=new WebSocket(this.url,this.activeProtocols),this.socket.onopen=()=>{this.connectingState=!1,this.connectionState=!0,this.log=[{payload:this.$t("state.connected_to",{name:this.url}),source:"info",color:"var(--accent-color)",ts:(new Date).toLocaleTimeString()}],this.$toast.success(this.$t("state.connected"))},this.socket.onerror=()=>{this.handleError()},this.socket.onclose=()=>{this.connectionState=!1,Object(u.h)({payload:this.$t("state.disconnected_from",{name:this.url}),source:"info",color:"#ff5555",ts:(new Date).toLocaleTimeString()}),this.$toast.error(this.$t("state.disconnected"))},this.socket.onmessage=e=>{var{data:t}=e;Object(u.h)({payload:t,source:"server",ts:(new Date).toLocaleTimeString()})}}catch(e){this.handleError(e),this.$toast.error(this.$t("error.something_went_wrong"))}Object(a.b)({platform:"wss"})},disconnect(){this.socket&&(this.socket.close(),this.connectionState=!1,this.connectingState=!1)},handleError(e){this.disconnect(),this.connectionState=!1,Object(u.h)({payload:this.$t("error.something_went_wrong"),source:"info",color:"#ff5555",ts:(new Date).toLocaleTimeString()}),null!==e&&Object(u.h)({payload:e,source:"info",color:"#ff5555",ts:(new Date).toLocaleTimeString()})},sendMessage(){var e=this.communication.input;this.socket.send(e),Object(u.h)({payload:e,source:"client",ts:(new Date).toLocaleTimeString()}),this.communication.input=""},walkHistory(e){var t=this.log.filter((e=>{var{source:t}=e;return"client"===t})),n=t.length;switch(e){case"up":n>0&&0!==this.currentIndex&&(-1===this.currentIndex?(this.currentIndex=n-1,this.communication.input=t[this.currentIndex].payload):0===this.currentIndex?this.communication.input=t[0].payload:this.currentIndex>0&&(this.currentIndex=this.currentIndex-1,this.communication.input=t[this.currentIndex].payload));break;case"down":n>0&&this.currentIndex>-1&&(this.currentIndex===n-1?(this.currentIndex=-1,this.communication.input=""):this.currentIndex<n-1&&(this.currentIndex=this.currentIndex+1,this.communication.input=t[this.currentIndex].payload))}},addProtocol(){Object(u.i)({value:"",active:!0})},deleteProtocol(e){var{index:t}=e,n=this.protocols.slice();Object(u.k)(t),this.$toast.success(this.$t("state.deleted"),{action:{text:this.$t("action.undo"),duration:4e3,onClick:(e,t)=>{this.protocols=n,t.remove()}}})},updateProtocol(e,t){Object(u.s)(e,t)}}}),p=n(16),f=Object(p.a)(h,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Splitpanes",{staticClass:"smart-splitter",class:{"!flex-row-reverse":e.SIDEBAR_ON_LEFT&&e.windowInnerWidth.x.value>=768},attrs:{rtl:e.SIDEBAR_ON_LEFT&&e.windowInnerWidth.x.value>=768,horizontal:!(e.windowInnerWidth.x.value>=768)}},[n("Pane",{staticClass:"hide-scrollbar !overflow-auto",attrs:{size:"75","min-size":"65"}},[n("Splitpanes",{staticClass:"smart-splitter",attrs:{horizontal:e.COLUMN_LAYOUT}},[n("Pane",{staticClass:"hide-scrollbar !overflow-auto",attrs:{size:e.COLUMN_LAYOUT?45:50}},[n("div",{staticClass:"sticky top-0 z-10 flex p-4 bg-primary"},[n("div",{staticClass:"inline-flex flex-1 space-x-2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.url,expression:"url"}],staticClass:"w-full px-4 py-2 border rounded bg-primaryLight border-divider text-secondaryDark hover:border-dividerDark focus-visible:bg-transparent focus-visible:border-dividerDark",class:{error:!e.urlValid},attrs:{id:"websocket-url",type:"url",autocomplete:"off",spellcheck:"false",placeholder:e.$t("websocket.url"),disabled:e.connectionState},domProps:{value:e.url},on:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.urlValid&&e.toggleConnection()},input:function(t){t.target.composing||(e.url=t.target.value)}}}),e._v(" "),n("ButtonPrimary",{staticClass:"w-32",attrs:{id:"connect",disabled:!e.urlValid,name:"connect",label:e.connectionState?e.$t("action.disconnect"):e.$t("action.connect"),loading:e.connectingState},nativeOn:{click:function(t){return e.toggleConnection.apply(null,arguments)}}})],1)]),e._v(" "),n("div",{staticClass:"sticky z-10 flex items-center justify-between flex-1 pl-4 border-b bg-primary border-dividerLight top-upperPrimaryStickyFold"},[n("label",{staticClass:"font-semibold text-secondaryLight"},[e._v("\n            "+e._s(e.$t("websocket.protocols"))+"\n          ")]),e._v(" "),n("div",{staticClass:"flex"},[n("ButtonSecondary",{directives:[{name:"tippy",rawName:"v-tippy",value:{theme:"tooltip"},expression:"{ theme: 'tooltip' }"}],attrs:{title:e.$t("action.clear_all"),svg:"trash-2"},nativeOn:{click:function(t){return e.clearContent.apply(null,arguments)}}}),e._v(" "),n("ButtonSecondary",{directives:[{name:"tippy",rawName:"v-tippy",value:{theme:"tooltip"},expression:"{ theme: 'tooltip' }"}],attrs:{title:e.$t("add.new"),svg:"plus"},nativeOn:{click:function(t){return e.addProtocol.apply(null,arguments)}}})],1)]),e._v(" "),e._l(e.protocols,(function(t,i){return n("div",{key:"protocol-"+i,staticClass:"flex border-b divide-x divide-dividerLight border-dividerLight"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"protocol.value"}],staticClass:"flex flex-1 px-4 py-2 bg-transparent",attrs:{placeholder:e.$t("count.protocol",{count:i+1}),name:"message",type:"text",autocomplete:"off"},domProps:{value:t.value},on:{change:function(n){return e.updateProtocol(i,{value:n.target.value,active:t.active})},input:function(n){n.target.composing||e.$set(t,"value",n.target.value)}}}),e._v(" "),n("span",[n("ButtonSecondary",{directives:[{name:"tippy",rawName:"v-tippy",value:{theme:"tooltip"},expression:"{ theme: 'tooltip' }"}],attrs:{title:t.hasOwnProperty("active")?t.active?e.$t("action.turn_off"):e.$t("action.turn_on"):e.$t("action.turn_off"),svg:t.hasOwnProperty("active")?t.active?"check-circle":"circle":"check-circle",color:"green"},nativeOn:{click:function(n){return e.updateProtocol(i,{value:t.value,active:!t.active})}}})],1),e._v(" "),n("span",[n("ButtonSecondary",{directives:[{name:"tippy",rawName:"v-tippy",value:{theme:"tooltip"},expression:"{ theme: 'tooltip' }"}],attrs:{title:e.$t("action.remove"),svg:"trash",color:"red"},nativeOn:{click:function(t){return e.deleteProtocol({index:i})}}})],1)])})),e._v(" "),0===e.protocols.length?n("div",{staticClass:"flex flex-col items-center justify-center p-4 text-secondaryLight"},[n("img",{staticClass:"inline-flex flex-col object-contain object-center w-16 h-16 my-4",attrs:{src:"/images/states/"+e.$colorMode.value+"/add_category.svg",loading:"lazy",alt:e.$t("empty.protocols")}}),e._v(" "),n("span",{staticClass:"mb-4 text-center"},[e._v("\n            "+e._s(e.$t("empty.protocols"))+"\n          ")])]):e._e()],2),e._v(" "),n("Pane",{staticClass:"hide-scrollbar !overflow-auto",attrs:{size:e.COLUMN_LAYOUT?65:50}},[n("RealtimeLog",{attrs:{title:e.$t("websocket.log"),log:e.log}})],1)],1)],1),e._v(" "),e.SIDEBAR?n("Pane",{staticClass:"hide-scrollbar !overflow-auto",attrs:{size:"25","min-size":"20"}},[n("div",{staticClass:"flex flex-col flex-1 p-4"},[n("label",{staticClass:"font-semibold text-secondaryLight",attrs:{for:"websocket-message"}},[e._v("\n        "+e._s(e.$t("websocket.communication"))+"\n      ")])]),e._v(" "),n("div",{staticClass:"flex px-4 space-x-2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.communication.input,expression:"communication.input"}],staticClass:"input",attrs:{id:"websocket-message",name:"message",type:"text",autocomplete:"off",disabled:!e.connectionState,placeholder:e.$t("websocket.message")},domProps:{value:e.communication.input},on:{keyup:[function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.connectionState&&e.sendMessage()},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"]))return null;e.connectionState&&e.walkHistory("up")},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"]))return null;e.connectionState&&e.walkHistory("down")}],input:function(t){t.target.composing||e.$set(e.communication,"input",t.target.value)}}}),e._v(" "),n("ButtonPrimary",{attrs:{id:"send",name:"send",disabled:!e.connectionState,label:e.$t("action.send")},nativeOn:{click:function(t){return e.sendMessage.apply(null,arguments)}}})],1)]):e._e()],1)}),[],!1,null,null,null);t.default=f.exports;installComponents(f,{ButtonPrimary:n(149).default,ButtonSecondary:n(83).default,RealtimeLog:n(1769).default})},2169:function(e,t,n){"use strict";n.r(t);var i=n(2),s=n(262),o=(n(468),n(1029)),r=n.n(o),a=n(176),c=n(19),l=n(303),u=n(20),d=Object(i.c)({components:{Splitpanes:s.Splitpanes,Pane:s.Pane},setup:()=>({COLUMN_LAYOUT:Object(c.j)("COLUMN_LAYOUT"),connectionSSEState:Object(u.h)(l.b,!1,l.j),connectingState:Object(u.h)(l.a,!1,l.i),server:Object(u.h)(l.c,"",l.k),eventType:Object(u.h)(l.d,"",l.l),sse:Object(u.h)(l.g,null,l.o),log:Object(u.h)(l.e,[],l.m)}),data:()=>({isUrlValid:!0}),computed:{serverValid(){return this.isUrlValid}},watch:{server(){this.debouncer()}},created(){this.worker=this.$worker.createRejexWorker(),this.worker.addEventListener("message",this.workerResponseHandler)},destroyed(){this.worker.terminate()},methods:{debouncer:r()((function(){this.worker.postMessage({type:"sse",url:this.server})}),1e3),workerResponseHandler(e){var{data:t}=e;t.url===this.url&&(this.isUrlValid=t.result)},toggleSSEConnection(){return this.connectionSSEState?this.stop():this.start()},start(){if(this.connectingState=!0,this.log=[{payload:this.$t("state.connecting_to",{name:this.server}),source:"info",color:"var(--accent-color)"}],"undefined"!=typeof EventSource)try{this.sse=new EventSource(this.server),this.sse.onopen=()=>{this.connectingState=!1,this.connectionSSEState=!0,this.log=[{payload:this.$t("state.connected_to",{name:this.server}),source:"info",color:"var(--accent-color)",ts:(new Date).toLocaleTimeString()}],this.$toast.success(this.$t("state.connected"))},this.sse.onerror=()=>{this.handleSSEError()},this.sse.onclose=()=>{this.connectionSSEState=!1,Object(l.h)({payload:this.$t("state.disconnected_from",{name:this.server}),source:"info",color:"#ff5555",ts:(new Date).toLocaleTimeString()}),this.$toast.error(this.$t("state.disconnected"))},this.sse.addEventListener(this.eventType,(e=>{var{data:t}=e;Object(l.h)({payload:t,source:"server",ts:(new Date).toLocaleTimeString()})}))}catch(e){this.handleSSEError(e),this.$toast.error(this.$t("error.something_went_wrong"))}else this.log=[{payload:this.$t("error.browser_support_sse"),source:"info",color:"#ff5555",ts:(new Date).toLocaleTimeString()}];Object(a.b)({platform:"sse"})},handleSSEError(e){this.stop(),this.connectionSSEState=!1,Object(l.h)({payload:this.$t("error.something_went_wrong"),source:"info",color:"#ff5555",ts:(new Date).toLocaleTimeString()}),null!==e&&Object(l.h)({payload:e,source:"info",color:"#ff5555",ts:(new Date).toLocaleTimeString()})},stop(){this.sse.close(),this.sse.onclose()}}}),h=n(16),p=Object(h.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Splitpanes",{staticClass:"smart-splitter",attrs:{horizontal:e.COLUMN_LAYOUT}},[n("Pane",{staticClass:"hide-scrollbar !overflow-auto",attrs:{size:e.COLUMN_LAYOUT?45:50}},[n("div",{staticClass:"sticky top-0 z-10 flex p-4 bg-primary"},[n("div",{staticClass:"inline-flex flex-1 space-x-2"},[n("div",{staticClass:"flex flex-1"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.server,expression:"server"}],staticClass:"flex flex-1 w-full px-4 py-2 border rounded-l bg-primaryLight border-divider text-secondaryDark hover:border-dividerDark focus-visible:bg-transparent focus-visible:border-dividerDark",class:{error:!e.serverValid},attrs:{id:"server",type:"url",autocomplete:"off",placeholder:e.$t("sse.url"),disabled:e.connectionSSEState},domProps:{value:e.server},on:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.serverValid&&e.toggleSSEConnection()},input:function(t){t.target.composing||(e.server=t.target.value)}}}),e._v(" "),n("label",{staticClass:"px-4 py-2 font-semibold truncate border-t border-b bg-primaryLight border-divider text-secondaryLight",attrs:{for:"event-type"}},[e._v("\n            "+e._s(e.$t("sse.event_type"))+"\n          ")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.eventType,expression:"eventType"}],staticClass:"flex flex-1 w-full px-4 py-2 border rounded-r bg-primaryLight border-divider text-secondaryDark hover:border-dividerDark focus-visible:bg-transparent focus-visible:border-dividerDark",attrs:{id:"event-type",spellcheck:"false",disabled:e.connectionSSEState},domProps:{value:e.eventType},on:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.serverValid&&e.toggleSSEConnection()},input:function(t){t.target.composing||(e.eventType=t.target.value)}}})]),e._v(" "),n("ButtonPrimary",{staticClass:"w-32",attrs:{id:"start",disabled:!e.serverValid,name:"start",label:e.connectionSSEState?e.$t("action.stop"):e.$t("action.start"),loading:e.connectingState},nativeOn:{click:function(t){return e.toggleSSEConnection.apply(null,arguments)}}})],1)])]),e._v(" "),n("Pane",{staticClass:"hide-scrollbar !overflow-auto",attrs:{size:e.COLUMN_LAYOUT?65:50}},[n("RealtimeLog",{attrs:{title:e.$t("sse.log"),log:e.log}})],1)],1)}),[],!1,null,null,null);t.default=p.exports;installComponents(p,{ButtonPrimary:n(149).default,RealtimeLog:n(1769).default})},2170:function(e,t,n){"use strict";n.r(t);n(34),n(37);var i=n(2),s=n(262),o=(n(468),n(2130)),r=n.n(o),a=n(2142),c=n(2154),l=n(2152),u=n.n(l),d=n(1029),h=n.n(d),p=n(176),f=n(19),g=n(178),v=n(302),m=n(20),b={v4:c.a,v3:a.io,v2:r.a},y=Object(i.c)({components:{Splitpanes:s.Splitpanes,Pane:s.Pane},setup:()=>({windowInnerWidth:Object(g.a)(),SIDEBAR:Object(f.j)("SIDEBAR"),COLUMN_LAYOUT:Object(f.j)("COLUMN_LAYOUT"),SIDEBAR_ON_LEFT:Object(f.j)("SIDEBAR_ON_LEFT"),socketIoClients:b,url:Object(m.h)(v.c,"",v.l),clientVersion:Object(m.h)(v.h,"",v.q),path:Object(m.h)(v.e,"",v.n),connectingState:Object(m.h)(v.a,!1,v.j),connectionState:Object(m.h)(v.b,!1,v.k),io:Object(m.h)(v.g,null,v.p),log:Object(m.h)(v.d,[],v.m),authTypeOptions:Object(i.m)(null)}),data:()=>({isUrlValid:!0,communication:{eventName:"",inputs:[""]},authType:"None",bearerToken:"",authActive:!0}),computed:{urlValid(){return this.isUrlValid}},watch:{url(){this.debouncer()},connectionState(e){e?this.$refs.versionOptions.tippy().disable():this.$refs.versionOptions.tippy().enable()}},created(){this.worker=this.$worker.createRejexWorker(),this.worker.addEventListener("message",this.workerResponseHandler)},destroyed(){this.worker.terminate()},methods:{debouncer:h()((function(){this.worker.postMessage({type:"socketio",url:this.url})}),1e3),workerResponseHandler(e){var{data:t}=e;t.url===this.url&&(this.isUrlValid=t.result)},removeCommunicationInput(e){var{index:t}=e;this.$delete(this.communication.inputs,t)},addCommunicationInput(){this.communication.inputs.push("")},toggleConnection(){return this.connectionState?this.disconnect():this.connect()},connect(){this.connectingState=!0,this.log=[{payload:this.$t("state.connecting_to",{name:this.url}),source:"info",color:"var(--accent-color)"}];try{this.path||(this.path="/socket.io");var e=b[this.clientVersion];this.authActive&&"Bearer"===this.authType?this.io=new e(this.url,{path:this.path,auth:{token:this.bearerToken}}):this.io=new e(this.url,{path:this.path}),u()(e.Manager)(this.io),this.io.on("connect",(()=>{this.connectingState=!1,this.connectionState=!0,this.log=[{payload:this.$t("state.connected_to",{name:this.url}),source:"info",color:"var(--accent-color)",ts:(new Date).toLocaleTimeString()}],this.$toast.success(this.$t("state.connected"))})),this.io.on("*",(e=>{var{data:t}=e,[n,i]=t;Object(v.i)({payload:"[".concat(n,"] ").concat(i?JSON.stringify(i):""),source:"server",ts:(new Date).toLocaleTimeString()})})),this.io.on("connect_error",(e=>{this.handleError(e)})),this.io.on("reconnect_error",(e=>{this.handleError(e)})),this.io.on("error",(()=>{this.handleError()})),this.io.on("disconnect",(()=>{this.connectingState=!1,this.connectionState=!1,Object(v.i)({payload:this.$t("state.disconnected_from",{name:this.url}),source:"info",color:"#ff5555",ts:(new Date).toLocaleTimeString()}),this.$toast.error(this.$t("state.disconnected"))}))}catch(e){this.handleError(e),this.$toast.error(this.$t("error.something_went_wrong"))}Object(p.b)({platform:"socketio"})},disconnect(){this.io.close()},handleError(e){this.disconnect(),this.connectingState=!1,this.connectionState=!1,Object(v.i)({payload:this.$t("error.something_went_wrong"),source:"info",color:"#ff5555",ts:(new Date).toLocaleTimeString()}),null!==e&&Object(v.i)({payload:e,source:"info",color:"#ff5555",ts:(new Date).toLocaleTimeString()})},sendMessage(){var e=this.communication.eventName,t=(this.communication.inputs||[]).map((e=>{try{return JSON.parse(e)}catch(t){return e}})).filter((e=>!!e));this.io&&(this.io.emit(e,...t,(t=>{Object(v.i)({payload:"[".concat(e,"] ").concat(JSON.stringify(t)),source:"server",ts:(new Date).toLocaleTimeString()})})),Object(v.i)({payload:"[".concat(e,"] ").concat(JSON.stringify(t)),source:"client",ts:(new Date).toLocaleTimeString()}),this.communication.inputs=[""])},onSelectVersion(e){this.clientVersion=e,this.$refs.versionOptions.tippy().hide()}}}),_=n(16),w=Object(_.a)(y,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Splitpanes",{staticClass:"smart-splitter",class:{"!flex-row-reverse":e.SIDEBAR_ON_LEFT&&e.windowInnerWidth.x.value>=768},attrs:{rtl:e.SIDEBAR_ON_LEFT&&e.windowInnerWidth.x.value>=768,horizontal:!(e.windowInnerWidth.x.value>=768)}},[n("Pane",{staticClass:"hide-scrollbar !overflow-auto",attrs:{size:"75","min-size":"65"}},[n("Splitpanes",{staticClass:"smart-splitter",attrs:{horizontal:e.COLUMN_LAYOUT}},[n("Pane",{staticClass:"hide-scrollbar !overflow-auto",attrs:{size:e.COLUMN_LAYOUT?45:50}},[n("div",{staticClass:"sticky top-0 z-10 flex p-4 bg-primary"},[n("div",{staticClass:"inline-flex flex-1 space-x-2"},[n("div",{staticClass:"flex flex-1"},[n("label",{attrs:{for:"client-version"}},[n("tippy",{ref:"versionOptions",attrs:{interactive:"",trigger:"click",theme:"popover",arrow:""},scopedSlots:e._u([{key:"trigger",fn:function(){return[n("span",{staticClass:"select-wrapper"},[n("input",{directives:[{name:"tippy",rawName:"v-tippy",value:{theme:"tooltip"},expression:"{ theme: 'tooltip' }"}],staticClass:"flex px-4 py-2 font-semibold border rounded-l cursor-pointer bg-primaryLight border-divider text-secondaryDark w-26 hover:border-dividerDark focus-visible:bg-transparent focus-visible:border-dividerDark",attrs:{id:"client-version",title:"socket.io-client version",readonly:"",disabled:e.connectionState},domProps:{value:"Client "+e.clientVersion}})])]},proxy:!0}])},[e._v(" "),e._l(e.socketIoClients,(function(t,i){return n("SmartItem",{key:"client-"+i,attrs:{label:"Client "+i},nativeOn:{click:function(t){return e.onSelectVersion(i)}}})}))],2)],1),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.url,expression:"url"}],staticClass:"flex flex-1 w-full px-4 py-2 border bg-primaryLight border-divider text-secondaryDark hover:border-dividerDark focus-visible:bg-transparent focus-visible:border-dividerDark",class:{error:!e.urlValid},attrs:{id:"socketio-url",type:"url",autocomplete:"off",spellcheck:"false",placeholder:e.$t("socketio.url"),disabled:e.connectionState},domProps:{value:e.url},on:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.urlValid&&e.toggleConnection()},input:function(t){t.target.composing||(e.url=t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.path,expression:"path"}],staticClass:"flex flex-1 w-full px-4 py-2 border rounded-r bg-primaryLight border-divider text-secondaryDark hover:border-dividerDark focus-visible:bg-transparent focus-visible:border-dividerDark",attrs:{id:"socketio-path",spellcheck:"false",disabled:e.connectionState},domProps:{value:e.path},on:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.urlValid&&e.toggleConnection()},input:function(t){t.target.composing||(e.path=t.target.value)}}})]),e._v(" "),n("ButtonPrimary",{staticClass:"w-32",attrs:{id:"connect",disabled:!e.urlValid,name:"connect",label:e.connectionState?e.$t("action.disconnect"):e.$t("action.connect"),loading:e.connectingState},nativeOn:{click:function(t){return e.toggleConnection.apply(null,arguments)}}})],1)]),e._v(" "),n("div",{staticClass:"sticky z-10 flex items-center justify-between flex-1 pl-4 border-b bg-primary border-dividerLight top-upperPrimaryStickyFold"},[n("span",{staticClass:"flex items-center"},[n("label",{staticClass:"font-semibold text-secondaryLight"},[e._v("\n              "+e._s(e.$t("authorization.type"))+"\n            ")]),e._v(" "),n("tippy",{ref:"authTypeOptions",attrs:{interactive:"",trigger:"click",theme:"popover",arrow:""},scopedSlots:e._u([{key:"trigger",fn:function(){return[n("span",{staticClass:"select-wrapper"},[n("ButtonSecondary",{staticClass:"pr-8 ml-2 rounded-none",attrs:{label:e.authType}})],1)]},proxy:!0}])},[e._v(" "),n("SmartItem",{attrs:{label:"None",icon:"None"===e.authType?"radio_button_checked":"radio_button_unchecked",active:"None"===e.authType},nativeOn:{click:function(t){return function(){e.authType="None",e.authTypeOptions.tippy().hide()}.apply(null,arguments)}}}),e._v(" "),n("SmartItem",{attrs:{label:"Bearer Token",icon:"Bearer"===e.authType?"radio_button_checked":"radio_button_unchecked",active:"Bearer"===e.authType},nativeOn:{click:function(t){return function(){e.authType="Bearer",e.authTypeOptions.tippy().hide()}.apply(null,arguments)}}})],1)],1),e._v(" "),n("div",{staticClass:"flex"},[n("SmartCheckbox",{staticClass:"px-2",attrs:{on:e.authActive},on:{change:function(t){e.authActive=!e.authActive}}},[e._v("\n              "+e._s(e.$t("state.enabled"))+"\n            ")]),e._v(" "),n("ButtonSecondary",{directives:[{name:"tippy",rawName:"v-tippy",value:{theme:"tooltip"},expression:"{ theme: 'tooltip' }"}],attrs:{to:"https://docs.hoppscotch.io/features/authorization",blank:"",title:e.$t("app.wiki"),svg:"help-circle"}}),e._v(" "),n("ButtonSecondary",{directives:[{name:"tippy",rawName:"v-tippy",value:{theme:"tooltip"},expression:"{ theme: 'tooltip' }"}],attrs:{title:e.$t("action.clear"),svg:"trash-2"},nativeOn:{click:function(t){return e.clearContent.apply(null,arguments)}}})],1)]),e._v(" "),"None"===e.authType?n("div",{staticClass:"flex flex-col items-center justify-center p-4 text-secondaryLight"},[n("img",{staticClass:"inline-flex flex-col object-contain object-center w-16 h-16 my-4",attrs:{src:"/images/states/"+e.$colorMode.value+"/login.svg",loading:"lazy",alt:e.$t("empty.authorization")}}),e._v(" "),n("span",{staticClass:"pb-4 text-center"},[e._v("\n            This SocketIO connection does not use any authentication.\n          ")]),e._v(" "),n("ButtonSecondary",{staticClass:"mb-4",attrs:{outline:"",label:e.$t("app.documentation"),to:"https://docs.hoppscotch.io/features/authorization",blank:"",svg:"external-link",reverse:""}})],1):e._e(),e._v(" "),"Bearer"===e.authType?n("div",{staticClass:"flex border-b border-dividerLight"},[n("div",{staticClass:"w-2/3 border-r border-dividerLight"},[n("div",{staticClass:"flex border-b border-dividerLight"},[n("SmartEnvInput",{attrs:{placeholder:"Token",styles:"bg-transparent flex flex-1 py-1 px-4"},model:{value:e.bearerToken,callback:function(t){e.bearerToken=t},expression:"bearerToken"}})],1)]),e._v(" "),n("div",{staticClass:"sticky h-full p-4 overflow-auto bg-primary top-upperTertiaryStickyFold min-w-46 max-w-1/3 z-9"},[n("div",{staticClass:"p-2"},[n("div",{staticClass:"pb-2 text-secondaryLight"},[e._v("\n                "+e._s(e.$t("helpers.authorization"))+"\n              ")]),e._v(" "),n("SmartAnchor",{staticClass:"link",attrs:{label:e.$t("authorization.learn")+"   →",to:"https://docs.hoppscotch.io/features/authorization",blank:""}})],1)])]):e._e()]),e._v(" "),n("Pane",{staticClass:"hide-scrollbar !overflow-auto",attrs:{size:e.COLUMN_LAYOUT?65:50}},[n("RealtimeLog",{attrs:{title:e.$t("socketio.log"),log:e.log}})],1)],1)],1),e._v(" "),e.SIDEBAR?n("Pane",{staticClass:"hide-scrollbar !overflow-auto",attrs:{size:"25","min-size":"20"}},[n("div",{staticClass:"flex flex-col flex-1 p-4"},[n("label",{staticClass:"font-semibold text-secondaryLight",attrs:{for:"events"}},[e._v("\n        "+e._s(e.$t("socketio.events"))+"\n      ")])]),e._v(" "),n("div",{staticClass:"flex px-4"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.communication.eventName,expression:"communication.eventName"}],staticClass:"input",attrs:{id:"event_name",name:"event_name",placeholder:e.$t("socketio.event_name"),type:"text",autocomplete:"off",disabled:!e.connectionState},domProps:{value:e.communication.eventName},on:{input:function(t){t.target.composing||e.$set(e.communication,"eventName",t.target.value)}}})]),e._v(" "),n("div",{staticClass:"flex items-center justify-between flex-1 p-4"},[n("label",{staticClass:"font-semibold text-secondaryLight"},[e._v("\n        "+e._s(e.$t("socketio.communication"))+"\n      ")]),e._v(" "),n("div",{staticClass:"flex"},[n("ButtonSecondary",{directives:[{name:"tippy",rawName:"v-tippy",value:{theme:"tooltip"},expression:"{ theme: 'tooltip' }"}],attrs:{title:e.$t("add.new"),svg:"plus"},nativeOn:{click:function(t){return e.addCommunicationInput.apply(null,arguments)}}})],1)]),e._v(" "),n("div",{staticClass:"flex flex-col px-4 pb-4 space-y-2"},e._l(e.communication.inputs,(function(t,i){return n("div",{key:"input-"+i},[n("div",{staticClass:"flex space-x-2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.communication.inputs[i],expression:"communication.inputs[index]"}],staticClass:"input",attrs:{name:"message",placeholder:e.$t("count.message",{count:i+1}),type:"text",autocomplete:"off",disabled:!e.connectionState},domProps:{value:e.communication.inputs[i]},on:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.connectionState&&e.sendMessage()},input:function(t){t.target.composing||e.$set(e.communication.inputs,i,t.target.value)}}}),e._v(" "),i+1!==e.communication.inputs.length?n("ButtonSecondary",{directives:[{name:"tippy",rawName:"v-tippy",value:{theme:"tooltip"},expression:"{ theme: 'tooltip' }"}],attrs:{title:e.$t("action.remove"),svg:"trash",color:"red",outline:""},nativeOn:{click:function(t){return e.removeCommunicationInput({index:i})}}}):e._e(),e._v(" "),i+1===e.communication.inputs.length?n("ButtonPrimary",{attrs:{id:"send",name:"send",disabled:!e.connectionState,label:e.$t("action.send")},nativeOn:{click:function(t){return e.sendMessage.apply(null,arguments)}}}):e._e()],1)])})),0)]):e._e()],1)}),[],!1,null,null,null);t.default=w.exports;installComponents(w,{SmartItem:n(126).default,ButtonPrimary:n(149).default,ButtonSecondary:n(83).default,SmartCheckbox:n(1853).default,SmartEnvInput:n(1020).default,SmartAnchor:n(333).default,RealtimeLog:n(1769).default})},2171:function(e,t,n){"use strict";n.r(t);n(34),n(37),n(927),n(259);var i=n(2),s=n(262),o=(n(468),n(2119)),r=n.n(o),a=n(1029),c=n.n(a),l=n(176),u=n(19),d=n(178),h=n(304),p=n(20),f=Object(i.c)({components:{Splitpanes:s.Splitpanes,Pane:s.Pane},setup:()=>({windowInnerWidth:Object(d.a)(),SIDEBAR:Object(u.j)("SIDEBAR"),COLUMN_LAYOUT:Object(u.j)("COLUMN_LAYOUT"),SIDEBAR_ON_LEFT:Object(u.j)("SIDEBAR_ON_LEFT"),url:Object(p.h)(h.c,"",h.k),connectionState:Object(p.h)(h.b,!1,h.j),connectingState:Object(p.h)(h.a,!1,h.i),subscriptionState:Object(p.h)(h.g,!1,h.o),log:Object(p.h)(h.d,null,h.l),client:Object(p.h)(h.f,null,h.n)}),data:()=>({isUrlValid:!0,pub_topic:"",sub_topic:"",msg:"",manualDisconnect:!1,username:"",password:""}),computed:{validUrl(){return this.isUrlValid},canpublish(){return""!==this.pub_topic&&""!==this.msg&&this.connectionState},cansubscribe(){return""!==this.sub_topic&&this.connectionState}},watch:{url(){this.debouncer()}},created(){this.worker=this.$worker.createRejexWorker(),this.worker.addEventListener("message",this.workerResponseHandler)},destroyed(){this.worker.terminate()},methods:{debouncer:c()((function(){this.worker.postMessage({type:"ws",url:this.url})}),1e3),workerResponseHandler(e){var{data:t}=e;t.url===this.url&&(this.isUrlValid=t.result)},connect(){this.connectingState=!0,this.log=[{payload:this.$t("state.connecting_to",{name:this.url}),source:"info",color:"var(--accent-color)",ts:(new Date).toLocaleTimeString()}];var e=new URL(this.url);this.client=new r.a.Client("".concat(e.hostname).concat("/"!==e.pathname?e.pathname:""),""!==e.port?Number(e.port):8081,"hoppscotch");var t={onSuccess:this.onConnectionSuccess,onFailure:this.onConnectionFailure,useSSL:"ws:"!==e.protocol};""!==this.username&&(t.userName=this.username),""!==this.password&&(t.password=this.password),this.client.connect(t),this.client.onConnectionLost=this.onConnectionLost,this.client.onMessageArrived=this.onMessageArrived,Object(l.b)({platform:"mqtt"})},onConnectionFailure(){this.connectingState=!1,this.connectionState=!1,Object(h.h)({payload:this.$t("error.something_went_wrong"),source:"info",color:"#ff5555",ts:(new Date).toLocaleTimeString()})},onConnectionSuccess(){this.connectingState=!1,this.connectionState=!0,Object(h.h)({payload:this.$t("state.connected_to",{name:this.url}),source:"info",color:"var(--accent-color)",ts:(new Date).toLocaleTimeString()}),this.$toast.success(this.$t("state.connected"))},onMessageArrived(e){var{payloadString:t,destinationName:n}=e;Object(h.h)({payload:"Message: ".concat(t," arrived on topic: ").concat(n),source:"info",color:"var(--accent-color)",ts:(new Date).toLocaleTimeString()})},toggleConnection(){this.connectionState?this.disconnect():this.connect()},disconnect(){this.manualDisconnect=!0,this.client.disconnect(),Object(h.h)({payload:this.$t("state.disconnected_from",{name:this.url}),source:"info",color:"#ff5555",ts:(new Date).toLocaleTimeString()})},onConnectionLost(){this.connectingState=!1,this.connectionState=!1,this.manualDisconnect?this.$toast.error(this.$t("state.disconnected")):this.$toast.error(this.$t("error.something_went_wrong")),this.manualDisconnect=!1,this.subscriptionState=!1},publish(){try{this.client.publish(this.pub_topic,this.msg,0,!1),Object(h.h)({payload:"Published message: ".concat(this.msg," to topic: ").concat(this.pub_topic),ts:(new Date).toLocaleTimeString(),source:"info",color:"var(--accent-color)"})}catch(e){Object(h.h)({payload:this.$t("error.something_went_wrong")+"while publishing msg: ".concat(this.msg," to topic:  ").concat(this.pub_topic),source:"info",color:"#ff5555",ts:(new Date).toLocaleTimeString()})}},toggleSubscription(){this.subscriptionState?this.unsubscribe():this.subscribe()},subscribe(){try{this.client.subscribe(this.sub_topic,{onSuccess:this.usubSuccess,onFailure:this.usubFailure})}catch(e){Object(h.h)({payload:this.$t("error.something_went_wrong")+"while subscribing to topic:  ".concat(this.sub_topic),source:"info",color:"#ff5555",ts:(new Date).toLocaleTimeString()})}},usubSuccess(){this.subscriptionState=!this.subscriptionState,Object(h.h)({payload:"Successfully "+(this.subscriptionState?"subscribed":"unsubscribed")+" to topic: ".concat(this.sub_topic),source:"info",color:"var(--accent-color)",ts:(new Date).toLocaleTimeString()})},usubFailure(){Object(h.h)({payload:"Failed to "+(this.subscriptionState?"unsubscribe":"subscribe")+" to topic: ".concat(this.sub_topic),source:"info",color:"#ff5555",ts:(new Date).toLocaleTimeString()})},unsubscribe(){this.client.unsubscribe(this.sub_topic,{onSuccess:this.usubSuccess,onFailure:this.usubFailure})}}}),g=n(16),v=Object(g.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Splitpanes",{staticClass:"smart-splitter",class:{"!flex-row-reverse":e.SIDEBAR_ON_LEFT&&e.windowInnerWidth.x.value>=768},attrs:{rtl:e.SIDEBAR_ON_LEFT&&e.windowInnerWidth.x.value>=768,horizontal:!(e.windowInnerWidth.x.value>=768)}},[n("Pane",{staticClass:"hide-scrollbar !overflow-auto",attrs:{size:"75","min-size":"65"}},[n("Splitpanes",{staticClass:"smart-splitter",attrs:{horizontal:e.COLUMN_LAYOUT}},[n("Pane",{staticClass:"hide-scrollbar !overflow-auto",attrs:{size:e.COLUMN_LAYOUT?45:50}},[n("div",{staticClass:"sticky top-0 z-10 flex flex-col p-4 space-y-4 bg-primary"},[n("div",{staticClass:"inline-flex flex-1 space-x-2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.url,expression:"url"}],staticClass:"w-full px-4 py-2 border rounded bg-primaryLight border-divider text-secondaryDark hover:border-dividerDark focus-visible:bg-transparent focus-visible:border-dividerDark",attrs:{id:"mqtt-url",type:"url",autocomplete:"off",spellcheck:"false",placeholder:e.$t("mqtt.url"),disabled:e.connectionState},domProps:{value:e.url},on:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.validUrl&&e.toggleConnection()},input:function(t){t.target.composing||(e.url=t.target.value)}}}),e._v(" "),n("ButtonPrimary",{staticClass:"w-32",attrs:{id:"connect",disabled:!e.validUrl,label:e.connectionState?e.$t("action.disconnect"):e.$t("action.connect"),loading:e.connectingState},nativeOn:{click:function(t){return e.toggleConnection.apply(null,arguments)}}})],1),e._v(" "),n("div",{staticClass:"flex space-x-4"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"input",attrs:{id:"mqtt-username",type:"text",spellcheck:"false",placeholder:e.$t("authorization.username")},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"input",attrs:{id:"mqtt-password",type:"password",spellcheck:"false",placeholder:e.$t("authorization.password")},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})])])]),e._v(" "),n("Pane",{staticClass:"hide-scrollbar !overflow-auto",attrs:{size:e.COLUMN_LAYOUT?65:50}},[n("RealtimeLog",{attrs:{title:e.$t("mqtt.log"),log:e.log}})],1)],1)],1),e._v(" "),e.SIDEBAR?n("Pane",{staticClass:"hide-scrollbar !overflow-auto",attrs:{size:"25","min-size":"20"}},[n("div",{staticClass:"flex flex-col flex-1 p-4"},[n("label",{staticClass:"font-semibold text-secondaryLight",attrs:{for:"pub_topic"}},[e._v("\n        "+e._s(e.$t("mqtt.topic"))+"\n      ")])]),e._v(" "),n("div",{staticClass:"flex px-4"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.pub_topic,expression:"pub_topic"}],staticClass:"input",attrs:{id:"pub_topic",placeholder:e.$t("mqtt.topic_name"),type:"text",autocomplete:"off",spellcheck:"false"},domProps:{value:e.pub_topic},on:{input:function(t){t.target.composing||(e.pub_topic=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"flex items-center justify-between flex-1 p-4"},[n("label",{staticClass:"font-semibold text-secondaryLight",attrs:{for:"mqtt-message"}},[e._v("\n        "+e._s(e.$t("mqtt.communication"))+"\n      ")])]),e._v(" "),n("div",{staticClass:"flex px-4 space-x-2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.msg,expression:"msg"}],staticClass:"input",attrs:{id:"mqtt-message",type:"text",autocomplete:"off",placeholder:e.$t("mqtt.message"),spellcheck:"false"},domProps:{value:e.msg},on:{input:function(t){t.target.composing||(e.msg=t.target.value)}}}),e._v(" "),n("ButtonPrimary",{attrs:{id:"publish",name:"get",disabled:!e.canpublish,label:e.$t("mqtt.publish")},nativeOn:{click:function(t){return e.publish.apply(null,arguments)}}})],1),e._v(" "),n("div",{staticClass:"flex flex-col flex-1 p-4 mt-4 border-t border-dividerLight"},[n("label",{staticClass:"font-semibold text-secondaryLight",attrs:{for:"sub_topic"}},[e._v("\n        "+e._s(e.$t("mqtt.topic"))+"\n      ")])]),e._v(" "),n("div",{staticClass:"flex px-4 space-x-2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.sub_topic,expression:"sub_topic"}],staticClass:"input",attrs:{id:"sub_topic",type:"text",autocomplete:"off",placeholder:e.$t("mqtt.topic_name"),spellcheck:"false"},domProps:{value:e.sub_topic},on:{input:function(t){t.target.composing||(e.sub_topic=t.target.value)}}}),e._v(" "),n("ButtonPrimary",{attrs:{id:"subscribe",name:"get",disabled:!e.cansubscribe,label:e.subscriptionState?e.$t("mqtt.unsubscribe"):e.$t("mqtt.subscribe"),reverse:""},nativeOn:{click:function(t){return e.toggleSubscription.apply(null,arguments)}}})],1)]):e._e()],1)}),[],!1,null,null,null);t.default=v.exports;installComponents(v,{ButtonPrimary:n(149).default,RealtimeLog:n(1769).default})},2258:function(e,t,n){"use strict";n.r(t);var i=n(2),s=Object(i.c)({head(){return{title:"".concat(this.$t("navigation.realtime")," • Hoppscotch")}}}),o=n(16),r=Object(o.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("SmartTabs",{staticClass:"h-full !overflow-hidden",attrs:{styles:"sticky bg-primary top-0 z-10 border-b border-dividerLight !overflow-visible"}},[n("SmartTab",{staticStyle:{height:"calc(100% - var(--sidebar-primary-sticky-fold))"},attrs:{id:"websocket",label:e.$t("tab.websocket"),selected:!0}},[n("RealtimeWebsocket")],1),e._v(" "),n("SmartTab",{staticStyle:{height:"calc(100% - var(--sidebar-primary-sticky-fold))"},attrs:{id:"sse",label:e.$t("tab.sse")}},[n("RealtimeSse")],1),e._v(" "),n("SmartTab",{staticStyle:{height:"calc(100% - var(--sidebar-primary-sticky-fold))"},attrs:{id:"socketio",label:e.$t("tab.socketio")}},[n("RealtimeSocketio")],1),e._v(" "),n("SmartTab",{staticStyle:{height:"calc(100% - var(--sidebar-primary-sticky-fold))"},attrs:{id:"mqtt",label:e.$t("tab.mqtt")}},[n("RealtimeMqtt")],1)],1)}),[],!1,null,null,null);t.default=r.exports;installComponents(r,{RealtimeWebsocket:n(2168).default,SmartTab:n(1006).default,RealtimeSse:n(2169).default,RealtimeSocketio:n(2170).default,RealtimeMqtt:n(2171).default,SmartTabs:n(1007).default})},898:function(e,t,n){var i=n(1015);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n(110).default)("3f6bd5c5",i,!0,{sourceMap:!1})},932:function(e,t,n){var i=n(1163);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n(110).default)("87f8a8d6",i,!0,{sourceMap:!1})}}]);