(window.webpackJsonp=window.webpackJsonp||[]).push([[94],{1002:function(t,e,n){var i=n(1234);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(132).default)("87f8a8d6",i,!0,{sourceMap:!1})},1091:function(t,e,n){"use strict";n.r(e);n(59),n(204),n(384),n(4),n(8),n(90),n(12),n(150),n(178),n(55),n(11),n(10),n(162),n(381),n(122);var i=n(2),r=n(1809),a=n.n(r),s=n(1100),l=n.n(s),o=n(1810),c=n.n(o),h=n(318),u=n(103),g=n(29),d={"&":"&amp;","<":"&lt;",">":"&gt;"},f=Object(i.c)({props:{value:{type:String,default:""},placeholder:{type:String,default:""},styles:{type:String,default:""}},setup:function(){return{aggregateEnvs:Object(g.g)(u.b)}},data:function(){return{internalValue:"",htmlOutput:"",debouncedHandler:null,highlight:[{text:/(<<\w+>>)/g,style:"cursor-help transition rounded px-1 focus:outline-none mx-0.5"}],highlightEnabled:!0,highlightStyle:"",caseSensitive:!0,fireOn:"input",fireOnEnabled:!0}},watch:{aggregateEnvs:function(){this.processHighlights()},highlightStyle:function(){this.processHighlights()},highlight:function(){this.processHighlights()},value:function(){this.internalValue!==this.value&&(this.internalValue=this.value,this.processHighlights())},highlightEnabled:function(){this.processHighlights()},caseSensitive:function(){this.processHighlights()},htmlOutput:function(){var t=this.saveSelection(this.$refs.editor);this.$refs.editor.innerHTML=this.htmlOutput,this.restoreSelection(this.$refs.editor,t)}},mounted:function(){this.fireOnEnabled&&this.$refs.editor.addEventListener(this.fireOn,this.handleChange),this.internalValue=this.value,this.processHighlights()},methods:{handleCompositionEnd:function(){this.handleChange()},handlePaste:function(t){this.handleChange(),this.$emit("paste",{event:t,previousValue:this.internalValue})},handleChange:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t&&"inputType"in t&&"insertCompositionText"===t.inputType||(this.debouncedHandler=l()((function(){this.$refs.editor&&this.internalValue!==this.$refs.editor.textContent&&(this.internalValue=this.$refs.editor.textContent,this.processHighlights())}),5),this.debouncedHandler())},processHighlights:function(){var t=this;if(!this.highlightEnabled)return this.htmlOutput=this.internalValue,void(this.intervalTree!==this.value&&(this.$emit("input",this.internalValue),this.$emit("change",this.internalValue)));var e=new a.a,n=[],i=this.normalizedHighlights();if(i){for(var r=function(n){var r=i[n];if(r.text&&("string"==typeof r.text&&t.getIndicesOf(r.text,t.internalValue,c()(r.caseSensitive)?t.caseSensitive:r.caseSensitive).forEach((function(n){var i=n+r.text.length-1;t.insertRange(n,i,r,e)})),"[object RegExp]"===Object.prototype.toString.call(r.text)&&t.getRegexIndices(r.text,t.internalValue).forEach((function(n){t.insertRange(n.start,n.end,r,e)}))),void 0!==r.start&&void 0!==r.end&&r.start<r.end){var a=r.start,s=r.end-1;t.insertRange(a,s,r,e)}},s=0;s<i.length;s++)r(s);n=(n=e.search(0,this.internalValue.length)).sort((function(t,e){return t.start-e.start}));for(var l="",o=0,h=function(e){var i,r,a,s=n[e];l+=t.safe_tags_replace(t.internalValue.substring(o,s.start));var c=t.internalValue.substring(s.start,s.end+1).slice(2,-2);l+='<span class="'.concat(n[e].style," ").concat(void 0===(null===(i=t.aggregateEnvs.find((function(t){return t.key===c})))||void 0===i?void 0:i.value)?"bg-red-400 text-red-50 hover:bg-red-600":"bg-accentDark text-accentContrast hover:bg-accent",'" v-tippy data-tippy-content="').concat(t.getEnvName(null===(r=t.aggregateEnvs.find((function(t){return t.key===c})))||void 0===r?void 0:r.sourceEnv)," <kbd>").concat(t.getEnvValue(null===(a=t.aggregateEnvs.find((function(t){return t.key===c})))||void 0===a?void 0:a.value),'</kbd>">').concat(t.safe_tags_replace(t.internalValue.substring(s.start,s.end+1)),"</span>"),o=s.end+1},u=0;u<n.length;u++)h(u);o<this.internalValue.length&&(l+=this.safe_tags_replace(this.internalValue.substring(o,this.internalValue.length)))," "===l[l.length-1]&&(l=l.substring(0,l.length-1),l+="&nbsp;"),this.htmlOutput=l,this.$nextTick((function(){t.renderTippy()})),this.internalValue!==this.value&&(this.$emit("input",this.internalValue),this.$emit("change",this.internalValue))}},renderTippy:function(){document.querySelectorAll("[v-tippy]").forEach((function(t){Object(h.c)(t,{content:t.dataset["tippy-content"],theme:"tooltip",popperOptions:{modifiers:{preventOverflow:{enabled:!1},hide:{enabled:!1}}}})}))},insertRange:function(t,e,n,i){var r=i.search(t,e),a=r.reduce((function(t,e){return Math.max(e.end-e.start,t)}),0);0===r.length?i.insert(t,e,{start:t,end:e,style:n.style}):e-t>a&&(r.forEach((function(t){i.remove(t.start,t.end,t)})),i.insert(t,e,{start:t,end:e,style:n.style}))},normalizedHighlights:function(){var t=this;if(null==this.highlight)return null;if("[object RegExp]"===Object.prototype.toString.call(this.highlight)||"string"==typeof this.highlight)return[{text:this.highlight}];if("[object Array]"===Object.prototype.toString.call(this.highlight)&&this.highlight.length>0){var e="string"==typeof this.highlightStyle?this.highlightStyle:Object.keys(this.highlightStyle).map((function(e){return e+":"+t.highlightStyle[e]})).join(";")+";",n=this.highlight.filter((function(t){return t===Object.prototype.toString.call(t)==="[object RegExp]"}));return this.highlight.filter((function(t){return t===Object.prototype.toString.call(t)!=="[object RegExp]"})).map((function(t){if(t.text||"string"==typeof t)return{text:t.text||t,style:t.style||e,caseSensitive:t.caseSensitive};if(void 0!==t.start&&void 0!==t.end)return{style:t.style||e,start:t.start,end:t.end,caseSensitive:t.caseSensitive};throw new Error("Please provide a valid highlight object or string")})).sort((function(t,e){return t.text&&e.text?t.text>e.text:t.start===e.start?t.end<e.end:t.start<e.start})).concat(n)}return console.error("Expected a string or an array of strings"),null},safe_tags_replace:function(t){return t.replace(/[&<>]/g,this.replaceTag)},replaceTag:function(t){return d[t]||t},getRegexIndices:function(t,e){if(!t.global)return console.error("Expected "+t+" to be global"),[];t=RegExp(t);for(var n=[],i=null;null!=(i=t.exec(e));)n.push({start:i.index,end:i.index+i[0].length-1});return n},getIndicesOf:function(t,e,n){var i=t.length;if(0===i)return[];var r,a=0,s=[];for(n||(e=e.toLowerCase(),t=t.toLowerCase());(r=e.indexOf(t,a))>-1;)s.push(r),a=r+i;return s},saveSelection:function(t){var e;if(window.getSelection&&document.createRange){var n=window.getSelection();if(!n||0===n.rangeCount)return;var i=n.getRangeAt(0),r=i.cloneRange();return r.selectNodeContents(t),r.setEnd(i.startContainer,i.startOffset),{start:e="".concat(r).length,end:e+"".concat(i).length}}if(document.selection){var a=document.selection.createRange(),s=document.body.createTextRange();return s.moveToElementText(t),s.setEndPoint("EndToStart",a),{start:e=s.text.length,end:e+a.text.length}}},restoreSelection:function(t,e){if(e)if(window.getSelection&&document.createRange){var n=0,i=document.createRange();i.setStart(t,0),i.collapse(!0);for(var r,a=[t],s=!1,l=!1;!l&&(r=a.pop());)if(3===r.nodeType){var o=n+r.length;!s&&e.start>=n&&e.start<=o&&(i.setStart(r,e.start-n),s=!0),s&&e.end>=n&&e.end<=o&&(i.setEnd(r,e.end-n),l=!0),n=o}else for(var c=r.childNodes.length;c--;)a.push(r.childNodes[c]);var h=window.getSelection();h.removeAllRanges(),h.addRange(i)}else if(document.selection){var u=document.body.createTextRange();u.moveToElementText(t),u.collapse(!0),u.moveEnd("character",e.end),u.moveStart("character",e.start),u.select()}},getEnvName:function(t){return t||"choose an environment"},getEnvValue:function(t){return t?t.replace(/"/g,"&quot;"):"not found"}}}),p=f,v=(n(1233),n(23)),y=Object(v.a)(p,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"env-input-container"},[n("div",{ref:"editor",staticClass:"env-input",class:t.styles,attrs:{placeholder:t.placeholder,contenteditable:"true",spellcheck:"false"},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.$emit("enter",e))},function(e){return t.$emit("keydown",e)}],keyup:function(e){return t.$emit("keyup",e)},click:function(e){return t.$emit("click",e)},paste:t.handlePaste,compositionend:t.handleCompositionEnd}})])}),[],!1,null,"51359fa4",null);e.default=y.exports},1233:function(t,e,n){"use strict";n(1002)},1234:function(t,e,n){var i=n(131)(!1);i.push([t.i,".env-input-container[data-v-51359fa4] {\n  position: relative;\n  display: -ms-inline-grid;\n  display: inline-grid;\n  -webkit-box-flex: 1;\n  -ms-flex: 1 1 0%;\n  -webkit-flex: 1 1 0%;\n  flex: 1 1 0%;\n}\n[contenteditable][data-v-51359fa4] {\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  -ms-user-select: text;\n  user-select: text;\n  color: var(--secondary-dark-color);\n}\n[contenteditable][data-v-51359fa4]:empty {\n  line-height: 2;\n}\n[contenteditable][data-v-51359fa4]:empty::before {\n  color: var(--secondary-color);\n  opacity: 0.35;\n  pointer-events: none;\n  content: attr(placeholder);\n}\n.env-input[data-v-51359fa4] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n  justify-items: start;\n  white-space: nowrap;\n  overflow-x: auto;\n  overflow-y: hidden;\n  resize: none;\n}\n.env-input[data-v-51359fa4]:focus {\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n}\n.env-input[data-v-51359fa4]::-webkit-scrollbar {\n  display: none;\n}",""]),t.exports=i}}]);