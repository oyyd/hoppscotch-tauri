(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{1977:function(e,t,r){"use strict";r.d(t,"b",(function(){return v})),r.d(t,"a",(function(){return f}));r(9),r(10),r(14),r(8),r(13);var n=r(33),c=r(19),o=(r(64),r(178),r(55),r(11),r(12),r(4),r(59),r(133),r(1871),r(1987),r(1872),r(1873),r(1874),r(1875),r(1876),r(1877),r(1878),r(1879),r(1880),r(1881),r(1882),r(1883),r(1884),r(1885),r(1886),r(1887),r(1888),r(1889),r(1890),r(1891),r(1892),r(1893),r(1894),r(97),r(75),r(122),r(162),r(1895),r(204),r(81));function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var s="".concat(window.location.origin,"/"),u=function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object.keys(r).map((function(e){return"".concat(e,"=").concat(r[e])})).join("&"),c={method:"post",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:n},e.prev=2,e.next=5,fetch(t,c);case 5:return o=e.sent,e.next=8,o.json();case 8:return a=e.sent,e.abrupt("return",a);case 12:e.prev=12,e.t0=e.catch(2),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t,r){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(t){var r,n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"GET",headers:{"Content-type":"application/json"}},e.prev=1,e.next=4,fetch(t,r);case 4:return n=e.sent,e.next=7,n.json();case 7:return c=e.sent,e.abrupt("return",c);case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=new Uint32Array(28);return window.crypto.getRandomValues(e),Array.from(e,(function(e){return"0".concat(e.toString(16)).substr(-2)})).join("")},d=function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c=t,o=void 0,o=(new TextEncoder).encode(c),window.crypto.subtle.digest("SHA-256",o);case 2:return r=e.sent,e.abrupt("return",(n=r,btoa(String.fromCharCode.apply(null,new Uint8Array(n))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")));case 4:case"end":return e.stop()}var n,c,o}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(t){var r,n,c,a,i,u,v,f,b,m,h,g,j;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.oidcDiscoveryUrl,n=t.grantType,c=t.authUrl,a=t.accessTokenUrl,i=t.clientId,u=t.scope,""===r){e.next=9;break}return e.next=4,l(r);case 4:v=e.sent,f=v.authorization_endpoint,b=v.token_endpoint,c=f,a=b;case 9:return Object(o.c)("tokenEndpoint",a),Object(o.c)("client_id",i),m=p(),Object(o.c)("pkce_state",m),h=p(),Object(o.c)("pkce_codeVerifier",h),e.next=17,d(h);case 17:g=e.sent,j=function(){return"".concat(c+"?response_type=".concat(n),"&client_id=").concat(encodeURIComponent(i),"&state=").concat(encodeURIComponent(m),"&scope=").concat(encodeURIComponent(u),"&redirect_uri=").concat(encodeURIComponent(s),"&code_challenge=").concat(encodeURIComponent(g),"&code_challenge_method=S256")},window.location=j();case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e,t="",r=""===(e=window.location.search.substring(1))?{}:e.split("&").map((function(e){return e.split("=")})).reduce((function(e,t){return i(i({},e),{},Object(n.a)({},t[0],t[1]))}),{});if(r.error&&alert("Error returned from authorization server: ".concat(r.error)),r.code){if(Object(o.a)("pkce_state")!==r.state)alert("Invalid state"),Promise.reject(t);else try{t=u(Object(o.a)("tokenEndpoint"),{grant_type:"authorization_code",code:r.code,client_id:Object(o.a)("client_id"),redirect_uri:s,code_verifier:Object(o.a)("pkce_codeVerifier")})}catch(e){return console.error(e),Promise.reject(t)}return Object(o.b)("pkce_state"),Object(o.b)("pkce_codeVerifier"),Object(o.b)("tokenEndpoint"),Object(o.b)("client_id"),t}return Promise.reject(t)}},1987:function(e,t,r){r(2160)("Uint32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},2175:function(e,t,r){"use strict";r.r(t);var n=r(19),c=(r(64),r(29)),o=r(110),a=r(1977),i={setup:function(){var e=Object(c.d)(),t=Object(c.j)(),r=Object(c.h)(o.h,{authType:"none",authActive:!0},o.r),i=Object(c.a)(r,"oidcDiscoveryURL"),s=Object(c.a)(r,"authURL"),u=Object(c.a)(r,"accessTokenURL"),l=Object(c.a)(r,"clientID"),p=Object(c.a)(r,"scope"),d=function(){var r=Object(n.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(""!==i.value||""!==s.value&&""!==u.value){r.next=3;break}return t.error("".concat(e("complete_config_urls"))),r.abrupt("return");case 3:return r.prev=3,n={grantType:"code",oidcDiscoveryUrl:i.value,authUrl:s.value,accessTokenUrl:u.value,clientId:l.value,scope:p.value},r.next=7,Object(a.b)(n);case 7:r.next=12;break;case 9:r.prev=9,r.t0=r.catch(3),t.error("".concat(r.t0));case 12:case"end":return r.stop()}}),r,null,[[3,9]])})));return function(){return r.apply(this,arguments)}}();return{oidcDiscoveryURL:i,authURL:s,accessTokenURL:u,clientID:l,scope:p,handleAccessTokenRequest:d,t:e}}},s=i,u=r(23),l=Object(u.a)(s,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"flex flex-col"},[r("div",{staticClass:"flex border-b border-dividerLight"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.oidcDiscoveryURL,expression:"oidcDiscoveryURL"}],staticClass:"flex flex-1 px-4 py-2 bg-transparent",attrs:{id:"oidcDiscoveryURL",placeholder:"OpenID Connect Discovery URL",name:"oidcDiscoveryURL"},domProps:{value:e.oidcDiscoveryURL},on:{input:function(t){t.target.composing||(e.oidcDiscoveryURL=t.target.value)}}})]),e._v(" "),r("div",{staticClass:"flex border-b border-dividerLight"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.authURL,expression:"authURL"}],staticClass:"flex flex-1 px-4 py-2 bg-transparent",attrs:{id:"authURL",placeholder:"Authentication URL",name:"authURL"},domProps:{value:e.authURL},on:{input:function(t){t.target.composing||(e.authURL=t.target.value)}}})]),e._v(" "),r("div",{staticClass:"flex border-b border-dividerLight"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.accessTokenURL,expression:"accessTokenURL"}],staticClass:"flex flex-1 px-4 py-2 bg-transparent",attrs:{id:"accessTokenURL",placeholder:"Access Token URL",name:"accessTokenURL"},domProps:{value:e.accessTokenURL},on:{input:function(t){t.target.composing||(e.accessTokenURL=t.target.value)}}})]),e._v(" "),r("div",{staticClass:"flex border-b border-dividerLight"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.clientID,expression:"clientID"}],staticClass:"flex flex-1 px-4 py-2 bg-transparent",attrs:{id:"clientID",placeholder:"Client ID",name:"clientID"},domProps:{value:e.clientID},on:{input:function(t){t.target.composing||(e.clientID=t.target.value)}}})]),e._v(" "),r("div",{staticClass:"flex border-b border-dividerLight"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.scope,expression:"scope"}],staticClass:"flex flex-1 px-4 py-2 bg-transparent",attrs:{id:"scope",placeholder:"Scope",name:"scope"},domProps:{value:e.scope},on:{input:function(t){t.target.composing||(e.scope=t.target.value)}}})]),e._v(" "),r("div",{staticClass:"p-2"},[r("ButtonSecondary",{attrs:{filled:"",label:""+e.t("authorization.generate_token")},nativeOn:{click:function(t){return e.handleAccessTokenRequest()}}})],1)])}),[],!1,null,null,null);t.default=l.exports;installComponents(l,{ButtonSecondary:r(104).default})}}]);