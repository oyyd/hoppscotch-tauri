(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{1893:function(t,e,r){"use strict";r.r(e);r(203),r(326),r(58),r(99);var s=r(2),a=["second","minute","hour","day","week","month","year"],o=["秒","分钟","小时","天","周","个月","年"],n={},i=function(t,e){n[t]=e},c=function(t){return n[t]||n.en_US},l=[60,60,24,7,365/7/12,12];function u(t){return t instanceof Date?t:!isNaN(t)||/^\d+$/.test(t)?new Date(parseInt(t)):(t=(t||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(t))}function p(t,e){for(var r=t<0?1:0,s=t=Math.abs(t),a=0;t>=l[a]&&a<l.length;a++)t/=l[a];return(t=Math.floor(t))>(0===(a*=2)?9:1)&&(a+=1),e(t,a,s)[r].replace("%s",t.toString())}function d(t,e){return(+(e?u(e):new Date)-+u(t))/1e3}var f=function(t,e,r){return p(d(t,r&&r.relativeDate),c(e))};i("en_US",(function(t,e){if(0===e)return["just now","right now"];var r=a[Math.floor(e/2)];return t>1&&(r+="s"),[t+" "+r+" ago","in "+t+" "+r]})),i("zh_CN",(function(t,e){if(0===e)return["刚刚","片刻后"];var r=o[~~(e/2)];return[t+" "+r+"前",t+" "+r+"后"]}));var y=r(66),v=r(20),m=r(75),h=r(90),g={};g.props={page:{key:"page",required:!0,type:String}},g.setup=(t,e)=>{var r=t,a=Object(s.m)(""),o=Object(s.m)(!1),n=Object(s.m)(!1),i=Object(v.j)(),c=Object(v.d)(),l=Object(v.g)("rest"===r.page?m.j:m.g,[]),u=Object(s.a)((()=>{var t=new RegExp(a.value,"gi"),e=r=>null!==r&&"object"==typeof r?Object.values(r).some(e):Array.isArray(r)?r.some(e):("string"==typeof r||"number"==typeof r)&&t.test(r);return l.value.filter(e)})),p=Object(s.a)((()=>{return t=u.value,e="updatedOn",t.reduce(((t,r)=>((t[f(r[e])]=t[f(r[e])]||[]).push(r),t)),{});var t,e}));return{filterText:a,showMore:o,confirmRemove:n,t:c,history:l,filteredHistory:u,filteredHistoryGroups:p,clearHistory:()=>{"rest"===r.page?Object(m.d)():Object(m.c)(),i.success("".concat(c("state.history_deleted")))},useHistory:t=>{"rest"===r.page&&Object(h.w)(Object(y.safelyExtractRESTRequest)(t.request,Object(h.b)()))},deleteBattleHistoryEntry:t=>{"rest"===r.page?t.forEach((t=>{Object(m.f)(t)})):t.forEach((t=>{Object(m.e)(t)})),i.success("".concat(c("state.deleted")))},deleteHistory:t=>{"rest"===r.page?Object(m.f)(t):Object(m.e)(t),i.success("".concat(c("state.deleted")))},toggleStar:t=>{"rest"===r.page?Object(m.o)(t):Object(m.n)(t)}}};var b=g,x=r(16),_=Object(x.a)(b,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"sticky top-0 z-10 flex border-b bg-primary border-dividerLight"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.filterText,expression:"filterText"}],staticClass:"flex w-full p-4 py-2 bg-transparent",attrs:{type:"search",autocomplete:"off",placeholder:""+t.t("action.search")},domProps:{value:t.filterText},on:{input:function(e){e.target.composing||(t.filterText=e.target.value)}}}),t._v(" "),r("div",{staticClass:"flex"},[r("ButtonSecondary",{directives:[{name:"tippy",rawName:"v-tippy",value:{theme:"tooltip"},expression:"{ theme: 'tooltip' }"}],attrs:{to:"https://docs.hoppscotch.io/features/history",blank:"",title:t.t("app.wiki"),svg:"help-circle"}}),t._v(" "),r("ButtonSecondary",{directives:[{name:"tippy",rawName:"v-tippy",value:{theme:"tooltip"},expression:"{ theme: 'tooltip' }"}],attrs:{"data-testid":"clear_history",disabled:0===t.history.length,svg:"trash-2",title:t.t("action.clear_all")},nativeOn:{click:function(e){t.confirmRemove=!0}}})],1)]),t._v(" "),r("div",{staticClass:"flex flex-col"},t._l(t.filteredHistoryGroups,(function(e,s){return r("details",{key:"filteredHistoryGroup-"+s,staticClass:"flex flex-col",attrs:{open:""}},[r("summary",{staticClass:"flex items-center justify-between flex-1 min-w-0 transition cursor-pointer focus:outline-none text-secondaryLight text-tiny group"},[r("span",{staticClass:"px-4 py-2 truncate transition group-hover:text-secondary capitalize-first"},[t._v("\n          "+t._s(s)+"\n        ")]),t._v(" "),r("ButtonSecondary",{directives:[{name:"tippy",rawName:"v-tippy",value:{theme:"tooltip"},expression:"{ theme: 'tooltip' }"}],staticClass:"hidden group-hover:inline-flex",attrs:{svg:"trash",color:"red",title:t.$t("action.remove")},nativeOn:{click:function(r){return t.deleteBattleHistoryEntry(e)}}})],1),t._v(" "),t._l(e,(function(e,s){return r("div",{key:"entry-"+s},[r("rest"==t.page?"HistoryRestCard":"HistoryGraphqlCard",{tag:"component",attrs:{id:s,entry:e,"show-more":t.showMore},on:{"toggle-star":function(r){return t.toggleStar(e)},"delete-entry":function(r){return t.deleteHistory(e)},"use-entry":function(r){return t.useHistory(e)}}})],1)}))],2)})),0),t._v(" "),0===t.filteredHistory.length&&0!==t.history.length?r("div",{staticClass:"flex flex-col items-center justify-center p-4 text-secondaryLight"},[r("i",{staticClass:"pb-2 opacity-75 material-icons"},[t._v("manage_search")]),t._v(" "),r("span",{staticClass:"my-2 text-center"},[t._v("\n      "+t._s(t.t("state.nothing_found"))+' "'+t._s(t.filterText)+'"\n    ')])]):t._e(),t._v(" "),0===t.history.length?r("div",{staticClass:"flex flex-col items-center justify-center p-4 text-secondaryLight"},[r("img",{staticClass:"inline-flex flex-col object-contain object-center w-16 h-16 my-4",attrs:{src:"/images/states/"+t.$colorMode.value+"/history.svg",loading:"lazy",alt:""+t.t("empty.history")}}),t._v(" "),r("span",{staticClass:"mb-4 text-center"},[t._v("\n      "+t._s(t.t("empty.history"))+"\n    ")])]):t._e(),t._v(" "),r("SmartConfirmModal",{attrs:{show:t.confirmRemove,title:""+t.t("confirm.remove_history")},on:{"hide-modal":function(e){t.confirmRemove=!1},resolve:t.clearHistory}})],1)}),[],!1,null,null,null);e.default=_.exports;installComponents(_,{ButtonSecondary:r(83).default,SmartConfirmModal:r(324).default})}}]);